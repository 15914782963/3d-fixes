// CRC32: 959F27C3 | Matched 2 variants of 1 shaders: Hidden/Internal-PrePassLighting
// 
//    Unity headers extracted from Internal-PrePassLighting.shader
//    Shader "Hidden/Internal-PrePassLighting" {
//      Properties {
//       _LightTexture0 ("", any) = "" {}
//       _LightTextureB0 ("", 2D) = "" {}
//       _ShadowMapTexture ("", any) = "" {}
//      }
//      Fallback Off
//      SubShader 1/1 {
//        Pass 2/3 {
//          Tags { "SHADOWSUPPORT"="true" }
//          ZWrite Off
//          Fog { Mode Off }
//          Blend One One
//          Program "fp" {
//            SubProgram "d3d9 " {
// 1:           Keywords { "DIRECTIONAL" "GI_ON" "SHADOWS_OFF" "SKY_OCCLUSION_OFF" "SUNSHINE_FILTER_PCF_4x4" }
// 2:           Keywords { "DIRECTIONAL" "GI_ON" "SHADOWS_SCREEN" "SKY_OCCLUSION_OFF" "SUNSHINE_FILTER_PCF_4x4" }
//              Matrix 0 [sunshine_WorldToSunVP]
//              Matrix 4 [sunshine_CascadeRanges]
//              Matrix 8 [_CameraToWorld]
//              Matrix 12 [_WorldToCamera]
//              Matrix 16 [_GIMatrix]
//              Matrix 20 [_GIProjectionMatrix]
//              Vector 24 [_WorldSpaceCameraPos]
//              Vector 25 [_ProjectionParams]
//              Vector 26 [_ScreenParams]
//              Vector 27 [_ZBufferParams]
//              Vector 28 [sunshine_Lightmap_TexelSize]
//              Vector 29 [sunshine_ShadowParamsAndHalfTexel]
//              Vector 30 [sunshine_OvercastCoord]
//              Vector 31 [sunshine_OvercastVectorsUV]
//              Vector 32 [sunshine_ShadowCoordDepthStart]
//              Vector 33 [sunshine_ShadowToWorldScale]
//              Vector 34 [sunshine_CascadeNearRatiosSq]
//              Vector 35 [sunshine_CascadeFarRatiosSq]
//              Vector 36 [sunshine_ShadowFadeParams]
//              Float 37 [CaveAmount]
//              Vector 38 [_LightDir]
//              Vector 39 [_LightColor]
//              Vector 40 [_SkylightColor]
//              Float 41 [_GIGain]
//              SetTexture 0 [_CameraNormalsTexture] 2D 0
//              SetTexture 1 [_CameraDepthTexture] 2D 1
//              SetTexture 2 [sunshine_Lightmap] 2D 2
//              SetTexture 3 [sunshine_OvercastMap] 2D 3
//              SetTexture 4 [_UniformNoise] 2D 4
//              SetTexture 5 [_GIDepthTexture] 2D 5
//              SetTexture 6 [_GIFluxTexture] 2D 6
//            }
//          }
//        }
//      }
//    }
// 
// Headers extracted with DarkStarSword's extract_unity_shaders.py
// https://raw.githubusercontent.com/DarkStarSword/3d-fixes/master/extract_unity_shaders.py

    ps_3_0
    dcl_2d s0
    dcl_2d s1
    dcl_2d s2
    dcl_2d s3
    dcl_2d s4
    dcl_2d s5
    dcl_2d s6
    def c42, 2.00000000, -1.00000000, -0.81005859, -0.50000000
    def c43, 0.00000000, 1.00000000, 128.00000000, 123456792.00000000
    def c44, 0.84507048, 0.23000000, 0.50000000, 0.11108398
    def c45, 0.00000000, 2.00000000, -1.00000000, 1.00000000
    def c46, 1.00000000, 0.00392157, 0.00001538, 0.00000006
    def c47, 0.21997070, 0.70703125, 0.07098389, 5.00000000
    def c48, 0.98000002, 0.02000000, 10.00000000, 0.05000000
    def c49, 0.79980469, 0.00000000, 0.25000000, 0.00390625
    defi i0, 11, 0, 1, 0
    def c50, -5.50000000, 0.01500000, -0.99000001, 100.00000000
    def c51, 0.00000000, -2.00000000, 100.00000000, 0.10000000
    def c52, -4.50000000, -3.50000000, -2.50000000, -1.50000000
    def c53, 1.50000000, 2.50000000, 3.50000000, 4.50000000
    def c54, 11.00000000, 155.00000000, 0, 0
    dcl_texcoord0 v0.xyzw
    dcl_texcoord1 v1.xyz
    rcp r0.x, v0.w
    mul r0.xy, v0, r0.x
    texld r1.x, r0, s1
    rcp r0.z, v1.z
    mov r4.w, c43.y
    mov r6.w, c43.y
    mad r0.w, r1.x, c27.x, c27.y
    mul r0.z, r0, c25
    mul r1.xyz, v1, r0.z
    rcp r0.z, r0.w
    mul r6.xyz, r1, r0.z
    dp4 r0.z, r6, c9
    dp4 r5.w, r6, c10
    dp4 r4.x, r6, c8
    mov r4.y, r0.z
    mov r4.z, r5.w
    dp4 r0.w, r4, c1
    dp4 r2.x, r4, c2
    dp4 r3.x, r4, c0
    mov r3.y, r0.w
    mov r1.z, r2.x
    mov r1.x, r3
    mov r1.y, r0.w
    add r1.xyz, r1, -c32
    mul r1.xyz, r1, c33
    dp3 r5.z, r1, r1
    mul r1.x, r5.z, c43.w
    frc r1.x, r1
    mul r1.x, -r1, c29.y
    add r1.x, r1, c43.y
    mad r7, -r5.z, r1.x, c35
    mad r1, r5.z, r1.x, -c34
    cmp r1, r1, c43.y, c43.x
    cmp r7, r7, c43.y, c43.x
    mul r7, r1, r7
    mul r1, r7.y, c5
    mad r1, r7.x, c4, r1
    mad r1, r7.z, c6, r1
    mad r1, r7.w, c7, r1
    mad r1.xy, r1.zwzw, r3, r1
    mad r1.xy, r1, c42.x, c42.y
    mul r1.zw, r1.xyxy, r1.xyxy
    add r1.z, r1, r1.w
    rsq r1.z, r1.z
    rcp r1.z, r1.z
    mad r1.z, r1, c44.x, c44.y
    rcp r1.z, r1.z
    mul r1.xy, r1, r1.z
    mul r1.xy, r1, c44.z
    add r1.xy, r1, -c29.zwzw
    add r1.xy, r1, c44.z
    mul r1.xy, r1, c28.zwzw
    frc r3.zw, r1.xyxy
    add r1.xy, -r3.zwzw, r1
    mul r1.xy, r1, c28
    add r1.xy, r1, c29.zwzw
    mov r1.zw, c28.xyxy
    mad r5.xy, c45.wyzw, r1.zwzw, r1
    mov r2.zw, c28.xyxy
    mad r7.xy, c45.y, r2.zwzw, r1
    texld r7, r7, s2
    dp4 r7.w, r7, c46
    add r7.xy, r1, c28
    texld r9, r7, s2
    texld r8, r5, s2
    mov r1.zw, c28.xyxy
    mad r5.xy, c45.ywzw, r1.zwzw, r1
    dp4 r7.z, r8, c46
    texld r8, r5, s2
    mov r1.zw, c28.xyxy
    mad r5.xy, c42.yxzw, r1.zwzw, r1
    dp4 r7.x, r9, c46
    dp4 r7.y, r8, c46
    mov r2.zw, c28.xyxy
    mad r8.xy, c45, r2.zwzw, r1
    texld r8, r8, s2
    add r7, r2.x, -r7
    dp4 r8.w, r8, c46
    texld r9, r5, s2
    mov r2.zw, c28.xyxy
    mad r8.xy, c45.zwzw, r2.zwzw, r1
    texld r10, r8, s2
    mov r1.zw, c28.xyxy
    mad r5.xy, c43, r1.zwzw, r1
    dp4 r8.z, r9, c46
    texld r9, r5, s2
    add_pp r5.xy, -r3.zwzw, c43.y
    dp4 r8.x, r10, c46
    dp4 r8.y, r9, c46
    add r9, r2.x, -r8
    cmp r8, r7, c43.y, c43.x
    mov r7.w, r3.z
    mov r7.z, c43.y
    mul_pp r2.zw, r8, r7
    mov r7.x, r5
    cmp r9, r9, c43.y, c43.x
    mov r7.y, c43
    mul_pp r1.zw, r9, r7.xyxy
    mul_pp r8.xy, r8, r7.zwzw
    add_pp r2.y, r2.z, r2.w
    add_pp r1.z, r1, r1.w
    add_pp r2.w, r1.z, r2.y
    mul_pp r1.zw, r9.xyxy, r7.xyxy
    add_pp r2.y, r8.x, r8
    add_pp r1.z, r1, r1.w
    add_pp r2.z, r1, r2.y
    mov r1.zw, c28.xyxy
    mad r9.xy, c43.yxzw, r1.zwzw, r1
    mov r8.xy, c28
    mad r8.xy, c45.yxzw, r8, r1
    texld r8, r8, s2
    dp4 r8.w, r8, c46
    texld r9, r9, s2
    dp4 r8.z, r9, c46
    mov r8.xy, c28
    mad r9.xy, c42, r8, r1
    mov r1.zw, c28.xyxy
    mad r8.xy, c45.wzzw, r1.zwzw, r1
    texld r10, r9, s2
    texld r9, r8, s2
    dp4 r8.y, r10, c46
    dp4 r8.x, r9, c46
    mov r1.zw, c28.xyxy
    mad r9.xy, c45.zxzw, r1.zwzw, r1
    texld r10, r1, s2
    texld r9, r9, s2
    dp4 r1.z, r9, c46
    add r8, r2.x, -r8
    add r9.xy, r1, -c28
    dp4 r1.w, r10, c46
    mov r9.zw, c28.xyxy
    mad r1.xy, c45.xzzw, r9.zwzw, r1
    texld r10, r9, s2
    texld r9, r1, s2
    cmp r8, r8, c43.y, c43.x
    dp4 r1.x, r10, c46
    dp4 r1.y, r9, c46
    add r1, r2.x, -r1
    cmp r1, r1, c43.y, c43.x
    mul_pp r1.xy, r7, r1
    mul_pp r1.zw, r7.xyxy, r1
    mul_pp r2.xy, r7.zwzw, r8.zwzw
    add_pp r2.x, r2, r2.y
    add_pp r1.z, r1, r1.w
    add_pp r2.y, r1.z, r2.x
    mul_pp r1.zw, r7, r8.xyxy
    add_pp r1.z, r1, r1.w
    add_pp r1.x, r1, r1.y
    add_pp r2.x, r1, r1.z
    mov r7.w, c43.x
    mov_pp r1.x, r5.y
    mov_pp r1.w, r3
    mov_pp r1.yz, c43.y
    mul_pp r1, r1, r2
    dp4_pp r1.x, r1, c44.w
    add r1.y, r1.x, -c37.x
    mad_sat r1.x, -r5.z, c36.y, c36
    mad r2.x, r1, r1.y, c37
    texld r1, r0, s0
    add r2.w, -r2.x, c43.y
    mad_pp r2.xyz, r1, c42.x, c42.y
    dp3_pp r1.z, r2, r2
    mul r1.xy, r3.x, c31
    rsq_pp r1.z, r1.z
    mul_pp r3.xyz, r1.z, r2
    add r1.xy, r1, c30
    mad r1.xy, r0.w, c31.zwzw, r1
    texld r0.w, r1, s3
    dp3_pp r7.x, r3, -c38
    rcp_pp r1.x, r1.z
    abs_pp r1.y, r7.x
    cmp_pp r1.z, r7.x, r7.x, r1.y
    mul r0.w, r2, r0
    add_pp r1.x, r1, c42.z
    cmp r2.w, r1.x, c43.x, c43.y
    dp4 r1.x, r6, r6
    add r3.w, r2, c42
    max_pp r1.y, r7.x, c43.x
    cmp_pp r1.y, -r3.w, r1, r1.z
    mul r2.x, r0.w, r1.y
    rsq r1.x, r1.x
    mul r1.xyz, r1.x, r6
    mul r5.xyz, r2.x, c39
    dp3_pp r2.x, r3, r1
    cmp_pp r7.y, r2.x, c43.x, c43
    cmp_pp r6.w, -r2.x, c43.x, c43.y
    add_pp r6.w, r6, -r7.y
    mul_pp r1.xyz, r5, c49.xxyw
    mov r2.z, r5.w
    mov r2.x, r4
    mov r2.y, r0.z
    add r2.xyz, r2, -c24
    dp3 r0.z, r2, r2
    rsq r5.w, r0.z
    mad r2.xyz, -r5.w, r2, -c38
    mul_pp r7.y, r6.w, r7.x
    cmp_pp r0.z, -r3.w, r7.x, r7.y
    cmp_pp r1.xyz, r0.z, r5, r1
    mul_pp r5.xyz, r3, r6.w
    dp3 r5.w, r2, r2
    rsq r5.w, r5.w
    cmp_pp r3.xyz, -r3.w, r3, r5
    mul r2.xyz, r5.w, r2
    dp3_pp r2.x, r2, r3
    mov r7.xyz, -c38
    dp3 r2.y, r6, r6
    rsq r3.w, r2.y
    dp4 r2.z, r7, c14
    dp4 r2.y, r7, c13
    max_pp r2.x, r2, c43
    mul_pp r1.w, r1, c43.z
    pow_pp r5, r2.x, r1.w
    dp4 r2.x, r7, c12
    mad r2.xyz, r6, -r3.w, r2
    dp3 r5.y, r2, r2
    mov_pp r1.w, r5.x
    mov_sat r0.w, r0
    rsq r5.x, r5.y
    mul r5.xyz, r5.x, r2
    mul r2.xyz, r3.w, r6
    mul r0.w, r1, r0
    dp3_sat r1.w, -r2, r5
    add r3.w, -r1, c43.y
    pow r5, r3.w, c47.w
    mov_pp r2.xyz, c39
    dp3_pp r1.w, c47, r2
    mov r3.w, c43.x
    mul r0.w, r0, r1
    dp4 r2.z, r3, c18
    dp4 r2.y, r3, c17
    mad_pp r5.y, r3, c44.z, c44.z
    mul_pp_sat r2.x, r0.z, c48.z
    mov r1.w, r5.x
    mad r0.z, r1.w, c48.x, c48.y
    mul r0.z, r0, r2.x
    mad r1.w, r5.y, c42.x, c42.y
    abs r2.x, r1.w
    mul r0.z, r0, c48
    mul_pp r1.w, r0, r0.z
    mad r0.z, r2.x, c44, c44
    dp4 r2.x, r3, c16
    dp3 r0.w, r2, r2
    rsq r0.w, r0.w
    add r0.z, r0, -r5.y
    mad r0.z, r2.w, r0, r5.y
    dp4 r3.w, r4, c19
    dp4 r3.z, r4, c18
    dp4 r3.x, r4, c16
    dp4 r3.y, r4, c17
    dp4 r4.x, r3, c21
    mad r0.z, r0, r0, c48.w
    mul r6.xyz, r0.w, r2
    mul r2.xyz, r0.z, c40
    dp4 r0.z, r3, c22
    mad r7.z, r0, c44, c44
    mov r0.z, c49.w
    mul r0.zw, c26.xyxy, r0.z
    mul r0.xy, r0, r0.zwzw
    dp4 r0.z, r3, c20
    texld r0.xy, r0, s4
    mad r7.x, r0.z, c44.z, c44.z
    mov r8.xy, r0
    mul r2.xyz, r2, c49.z
    mad r7.y, r4.x, c44.z, c44.z
    mov_pp r0.xyz, c43.x
    mov r0.w, c43.x
    mov r3.w, c43.x
    loop aL, i0
    add r3.x, r3.w, r8
    add r5.x, r3, c50
    mov r3.x, r5
    add r3.y, r8, c50.x
    mad r3.xy, r3, c50.y, r7
    mov r4.xy, r3
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r3.z, r4.x, c50
    cmp r3.z, -r3, r4.x, c43.x
    add r9.xyz, r7, -r3
    dp3 r3.z, r9, r9
    rsq r4.z, r3.z
    mul r9.xyz, r4.z, r9
    mov r9.xy, -r9
    dp3_sat r4.x, r9, r6
    dp3 r3.z, r9, c51.xxyw
    add r4.y, -r4.x, c43
    mad r4.y, r2.w, r4, r4.x
    add_sat r4.x, r3.z, c44.z
    rcp r4.z, r4.z
    mov r3.z, c43.y
    texldl r3.xyz, r3.xyzz, s6
    mul r3.xyz, r3, r4.x
    mul r3.xyz, r3, r4.y
    max r4.w, r4.z, c50.y
    mov r4.x, r5
    add r4.y, r8, c52.x
    mad r4.xy, r4, c50.y, r7
    mov r9.xy, r4
    mov r9.z, c43.x
    texldl r9.x, r9.xyzz, s5
    add r5.y, r9.x, c50.z
    cmp r4.z, -r5.y, r9.x, c43.x
    add r9.xyz, r7, -r4
    mul r5.y, r4.w, c50.w
    mul r4.z, r4.w, r5.y
    dp3 r4.w, r9, r9
    rsq r4.w, r4.w
    mul r9.xyz, r4.w, r9
    mad r4.z, r4, c51, c51.w
    rcp r4.z, r4.z
    mul r3.xyz, r3, r4.z
    add_pp r3.xyz, r0, r3
    mov r9.xy, -r9
    dp3_sat r4.z, r6, r9
    add r0.y, -r4.z, c43
    mad r5.y, r2.w, r0, r4.z
    dp3 r0.x, r9, c51.xxyw
    add_sat r4.z, r0.x, c44
    mov r0.xy, r4
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.z
    mul r9.xyz, r0, r5.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c52
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c52.z
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c52.w
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c42.w
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c44.z
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c53.x
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c53
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mad r4.y, r2.w, r5.z, r5
    add_pp r3.xyz, r3, r9
    mul r9.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    mul r5.y, r4.w, c50.w
    mov r0.x, r5
    add r0.y, r8, c53.z
    mad r0.xy, r0, c50.y, r7
    mov r4.xy, r0
    mov r4.z, c43.x
    texldl r4.x, r4.xyzz, s5
    add r4.y, r4.x, c50.z
    cmp r0.z, -r4.y, r4.x, c43.x
    add r4.xyz, r7, -r0
    mul r0.z, r4.w, r5.y
    dp3 r4.w, r4, r4
    rsq r4.w, r4.w
    mul r4.xyz, r4.w, r4
    mov r4.xy, -r4
    dp3_sat r5.y, r6, r4
    mad r0.z, r0, c51, c51.w
    rcp r0.z, r0.z
    mul r9.xyz, r9, r0.z
    dp3 r0.z, r4, c51.xxyw
    add r5.z, -r5.y, c43.y
    mad r4.y, r2.w, r5.z, r5
    add_sat r4.x, r0.z, c44.z
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r4.x
    mul r4.xyz, r0, r4.y
    rcp r0.z, r4.w
    max r4.w, r0.z, c50.y
    add r5.y, r8, c53.w
    mad r0.xy, r5, c50.y, r7
    mov r5.xy, r0
    mov r5.z, c43.x
    texldl r5.x, r5.xyzz, s5
    add r5.y, r5.x, c50.z
    cmp r0.z, -r5.y, r5.x, c43.x
    add r5.xyz, r7, -r0
    mul r5.w, r4, c50
    mul r0.z, r4.w, r5.w
    mad r4.w, r0.z, c51.z, c51
    dp3 r5.w, r5, r5
    rsq r0.z, r5.w
    mul r5.xyz, r0.z, r5
    rcp r4.w, r4.w
    rcp r5.w, r0.z
    max r5.w, r5, c50.y
    mov r5.xy, -r5
    mul r4.xyz, r4, r4.w
    dp3_sat r4.w, r6, r5
    add r0.z, -r4.w, c43.y
    mad r4.w, r2, r0.z, r4
    dp3 r0.z, r5, c51.xxyw
    add_sat r5.x, r0.z, c44.z
    add_pp r3.xyz, r3, r9
    mul r6.w, r5, c50
    mul r5.y, r5.w, r6.w
    mov r0.z, c43.y
    texldl r0.xyz, r0.xyzz, s6
    mul r0.xyz, r0, r5.x
    mad r5.y, r5, c51.z, c51.w
    rcp r5.x, r5.y
    mul r0.xyz, r0, r4.w
    mul r0.xyz, r0, r5.x
    add_pp r3.xyz, r3, r4
    add_pp r0.xyz, r3, r0
    add r0.w, r0, c54.x
    add r3.w, r3, c43.y
    endloop
    mov r2.w, c41.x
    rcp_pp r0.w, r0.w
    mul r2.w, c54.y, r2
    mul_pp r0.xyz, r0, r0.w
    mul_pp r0.xyz, r0, r2.w
    add r0.xyz, r2, r0
    add_pp oC0.xyz, r1, r0
    mov_pp oC0.w, r1
