//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
// Parameters:
//
//   float4 AspectRatioAndInvAspectRatio;
//   float4 BloomTintAndThreshold;
//   float4 LightShaftParameters;
//   float4 SampleOffsets[2];
//   sampler2D SourceTexture;
//   float2 TextureSpaceBlurOrigin;
//   float4 UVMinMax;
//
//
// Registers:
//
//   Name                         Reg   Size
//   ---------------------------- ----- ----
//   TextureSpaceBlurOrigin       c0       1
//   SampleOffsets                c7       2
//   UVMinMax                     c9       1
//   AspectRatioAndInvAspectRatio c10      1
//   LightShaftParameters         c11      1
//   BloomTintAndThreshold        c12      1
//   SourceTexture                s0       1
//

    ps_3_0
    def c1, 2, 1, 8, 0.25
    def c2, 0.300000012, 0.589999974, 0.109999999, 6.10351999e-005
    def c3, 0.5, 0, 5, 0
    dcl_texcoord v0.xy
    dcl_2d s0

def c220, 0, 1, 0.0625, 0.5
dcl_2d s13


// Unreal light shaft fix inserted with DarkStarSword's shadertool.py:
// shadertool.py -i -f --git --auto-fix-unreal-light-shafts --only-autofixed CRC32_424DB07_0.txt
texldl r6, c220.z, s13
mov r5, c0 // TextureSpaceBlurOrigin
mad r5.x, r6.x, c220.w, r5.x // Adjust each eye by 1/2 separation

    add r0.xy, -c9, v0
    rcp r1.x, c9.z
    rcp r1.y, c9.w
    mul r0.zw, r0.xyxy, r1.xyxy
    mad r0.xy, r0, -r1, c1.y
    mul r0.x, r0.x, r0.z
    mul r0.x, r0.w, r0.x
    mul r0.x, r0.y, r0.x
    mad r0.x, r0.x, -c1.z, c1.y
    mul r0.x, r0.x, r0.x
    mul r0.y, r0.x, r0.x
    mad r0.x, r0.x, -r0.x, c1.y
    mov r1.x, c1.x
    mad r0.zw, c7, -r1.x, v0.xyxy
    texld r2, r0.zwzw, s0
    mov r3.y, r2.w
    texld r4, v0, s0
    mov r3.x, r4.w
    add r1.yzw, r2.xxyz, r4.xxyz
    mad r2, c8, -r1.x, v0.xyxy
    texld r4, r2, s0
    texld r2, r2.zwzw, s0
    mov r3.z, r4.w
    add r1.xyz, r1.yzww, r4
    add r1.xyz, r2, r1
    mov r3.w, r2.w
    mul_pp r1.xyz, r1, c1.w
    mul_sat r2, r3, c11.x
    dp4 r0.z, r2, c1.w
    max oC0.w, r0.z, r0.y
    rcp r0.y, c11.x
    mad r2, r0.y, -c3.x, r3
    mul_sat r2, r2, c11.x
    dp4 r0.y, r2, c1.w
    mul r2.xyz, r1, c11.y
    dp3_pp r0.z, r1, c2
    max_pp r1.x, r0.z, c2.w
    rcp r0.z, r1.x
    add_pp r0.w, r1.x, -c12.w
    mul r1.xyz, r0.z, r2
    mul r1.xyz, r0.w, r1
    add r1.xyz, r1, r1
    mul r1.xyz, r0.y, r1
    cmp r0.yzw, r0.w, r1.xxyz, c3.y
    mul r0.xyz, r0.x, r0.yzww
    mov r1.zw, c10
    mad r1.xy, v0, -r1.zwzw, r5
    dp2add r0.w, r1, r1, c3.y
    rsq r0.w, r0.w
    rcp r0.w, r0.w
    mul_sat r0.w, r0.w, c3.z
    add r0.w, -r0.w, c1.y
    mul r0.w, r0.w, r0.w
    mul r0.xyz, r0, r0.w
    mul oC0.xyz, r0, c1.w

// approximately 56 instruction slots used (4 texture, 52 arithmetic)
