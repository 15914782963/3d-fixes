// Main UI - disappears in stereo

//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
// Parameters:
//
//   float4x4 Transform;
//
//
// Registers:
//
//   Name         Reg   Size
//   ------------ ----- ----
//   Transform    c7       4
//

    vs_3_0
    dcl_position v0
    dcl_texcoord v1
    dcl_color v2
    dcl_color1 v3
    dcl_texcoord o0.xy
    dcl_texcoord1 o1
    dcl_texcoord2 o2
    dcl_texcoord3 o3
    dcl_position o4

def c220, 0, 1, 0.0625, 0.5
dcl_2d s3

    mov o0.xy, v1
    mov o1, v2
    mov o2, v3
    mul r0, c8, v0.y
    mad r0, c7, v0.x, r0
    mad r0, c9, v0.z, r0
    mad r0, c10, v0.w, r0
    mov o3, r0
    mov r2, r0

// approximately 9 instruction slots used


// Subtracting the usual stereo correction formula fixes part of the UI, but
// breaks other parts. Instead, normalise the output position so the driver has
// nothing to stereoise, then apply our own UI stereo adjustment instead.
rcp r10.w, r2.w
mul r2, r2, r10.wwww

// UI depth adjustment inserted with DarkStarSword's shadertool.py:
// shadertool.py -i -f --stereo-sampler-vs=s3 --ui=c220.z VertexShader_0_CRC32_328993F7.txt
texldl r31, c220.z, s3
mad r2.x, r31.x, c200.z, r2.x

mov o4, r2
