    ps_3_0
    def c13, 0.333333343, 0.00100000005, 0.5, 0
    def c14, 2, -1, 0, 1
    def c15, 31.622776, 9.99999975e-005, 0.967999995, 0.0299999993
    def c16, 10, 0, 0, 0
    dcl_texcoord v0
    dcl_texcoord1 v1
    dcl_texcoord2 v2
    dcl_texcoord3 v3
    dcl_color v4.xy
    dcl_texcoord5_pp v5.xy
    dcl_2d s0
    dcl_2d s1
    dcl_2d s2
    dcl_2d s3
    dcl_2d s4
    dcl_2d s5
    dcl_2d s6
    mov r0.x, v1.w
    mov r0.y, v2.w
    mov r0.z, v3.w
    add r0.xyz, -r0, c0
    nrm_pp r1.xyz, r0
    texld_pp r0, v5, s1
    mad_pp r0.xyz, r0, c14.x, c14.y
    dp3_pp r0.w, r0, r0
    rsq_pp r0.w, r0.w
    rcp_pp r0.w, r0.w
    max_pp r1.w, c13.y, r0.w
    rcp r0.w, r1.w
    mad_pp r2.xyz, r0, r0.w, r1
    mul_pp r0.xyz, r0.w, r0
    dp3_pp r0.w, r2, r2
    add r2.w, -r0.w, c13.y
    rsq_pp r0.w, r0.w
    cmp_pp r0.w, r2.w, c15.x, r0.w
    mul_pp r2.xyz, r0.w, r2
    dp3_pp r0.w, r0, r2
    max_pp r2.w, r0.w, c14.z
    add_pp r0.w, -r2.w, c14.w
    mul_pp r2.w, r2.w, r2.w
    mul_pp r3.x, r0.w, r0.w
    mul_pp r3.x, r3.x, r3.x
    mul_pp r0.w, r0.w, r3.x
    texld r3, v0, s3
    texld r4, v0, s2
    mul_pp r4.xyz, r4, c4
    mad r3.xyz, r3, c5, -r4
    mad_pp r3.xyz, v4.x, r3, r4
    texld_pp r4, v0.zwzw, s6
    mad_pp r3.w, v4.y, c14.x, c14.y
    add_sat_pp r3.w, r4.x, r3.w
    mul_pp r3.w, r3.w, c7.x
    mul_pp r4.xyz, r3.w, c6
    mad_pp r4.xyz, r4, r3, -r3
    mad_pp r4.xyz, r3.w, r4, r3
    mov r5.x, c12.x
    add_pp r4.w, -r5.x, c11.x
    mad_pp r4.w, r3.w, r4.w, c12.x
    lrp_pp r5.xyz, r4.w, r4, c1
    mad_pp r4.w, r4.w, -c1.w, c1.w
    mul_pp r4.xyz, r4.w, r4
    lrp_pp r6.xyz, r0.w, c14.w, r5
    add_pp r0.w, r3.y, r3.x
    add_pp r0.w, r3.z, r0.w
    mul_pp r3.x, r0.w, c13.x
    mov r7.x, c13.x
    mad_pp r0.w, r0.w, -r7.x, c9.x
    mad_pp r0.w, c8.x, r0.w, r3.x
    lrp_pp r5.w, r3.w, c10.x, r0.w
    add_pp r0.w, -r5.w, c14.w
    add_pp r3.x, -r0.w, c14.w
    mad_pp r3.x, r3.x, c15.z, c15.w
    log_pp r3.x, r3.x
    rcp r3.x, r3.x
    mul_pp r3.x, r3.x, c16.x
    mad_pp r3.y, r3.x, r3.x, c14.w
    mul_pp r3.x, r3.x, r3.x
    mul_pp r3.z, r3.y, c3.y
    texld_pp r7, v0, s4
    texld_pp r8, v0, s5
    lrp_pp r9.xy, v4.x, r8.wyzw, r7.wyzw
    mad_pp r7.xy, r9, c14.x, c14.y
    dp2add_sat_pp r4.w, r7, r7, c14.z
    add_pp r4.w, -r4.w, c14.w
    rsq_pp r4.w, r4.w
    rcp_pp r7.z, r4.w
    lrp_pp r8.xyz, r3.w, c14.zzww, r7
    dp3_pp r7.x, v1, r8
    dp3_pp r7.y, v2, r8
    dp3_pp r7.z, v3, r8
    dp3_pp r2.x, r7, r2
    max_pp r3.w, r2.x, c14.z
    pow_pp r2.x, r3.w, r3.x
    mul_pp r2.x, r3.z, r2.x
    mul_pp r2.y, r0.w, r0.w
    dp2add_pp r0.w, r2.w, r0.w, -c13.z
    mul_pp r2.z, r2.y, c3.w
    mov r2.w, c14.w
    mad_pp r2.w, r2.y, -c3.w, r2.w
    dp3_pp r3.z, r7, r1
    max_pp r4.w, r3.z, c14.z
    mad_pp r3.z, r4.w, r2.w, r2.z
    add_pp r3.w, -r4.w, c14.w
    dp3_pp r0.x, r7, r0
    max_pp r4.w, r0.x, c14.z
    mad_pp r0.x, r4.w, r2.w, r2.z
    mad r0.x, r0.x, r3.z, c15.y
    rcp_pp r0.x, r0.x
    mul_pp r0.x, r2.x, r0.x
    mul_pp r0.x, r4.w, r0.x
    mul_pp r0.x, r0.x, c3.x
    max_pp r2.x, r0.x, c14.z
    texld_pp r8, v5, s0
    pow_pp r0.x, r8.w, c2.y
    mul_pp r0.x, r0.x, c2.x
    mul_pp r0.xyz, r8, r0.x
    mul_pp r8.xyz, r1.w, r0
    add_pp r1.w, -r1.w, c14.w
    mul_pp r0.xyz, r0, r1.w
    mul_pp r2.xzw, r2.x, r8.xyyz
    mul_pp r2.xzw, r6.xyyz, r2
    mul_pp r1.w, r3.w, r3.w
    mul_pp r1.w, r1.w, r1.w
    mul_pp r1.w, r3.w, r1.w
    mad_pp r1.w, r0.w, r1.w, c14.w
    add_pp r3.z, -r4.w, c14.w
    mul_pp r3.w, r3.z, r3.z
    mul_pp r3.w, r3.w, r3.w
    mul_pp r3.z, r3.z, r3.w
    mad_pp r0.w, r0.w, r3.z, c14.w
    mul_pp r0.w, r1.w, r0.w
    mul_pp r0.w, r4.w, r0.w
    add_pp r3.zw, c13, v5.xyxy
    texld_pp r6, r3.zwzw, s1
    texld_pp r9, r3.zwzw, s0
    mad_pp r6.xyz, r6, c14.x, c14.y
    dp3_pp r1.w, r6, r6
    rsq_pp r1.w, r1.w
    rcp_pp r1.w, r1.w
    max_pp r3.z, c13.y, r1.w
    rcp r1.w, r3.z
    mul_pp r10.xyz, r1.w, r6
    mad_pp r1.xyz, r6, r1.w, r1
    dp3_pp r1.w, r7, r10
    max_pp r3.w, r1.w, c14.z
    pow_pp r1.w, r9.w, c2.y
    mul_pp r1.w, r1.w, c2.x
    mul_pp r6.xyz, r9, r1.w
    add_pp r1.w, -r3.z, c14.w
    mul_pp r9.xyz, r3.z, r6
    mul_pp r6.xyz, r1.w, r6
    mul_pp r6.xyz, r3.w, r6
    mad_pp r0.xyz, r0, r4.w, r6
    mad_pp r0.xyz, r8, r0.w, r0
    mad_pp r0.xyz, r4, r0, r2.xzww
    dp3_pp r0.w, r1, r1
    add r1.w, -r0.w, c13.y
    rsq_pp r0.w, r0.w
    cmp_pp r0.w, r1.w, c15.x, r0.w
    mul_pp r1.xyz, r0.w, r1
    dp3_pp r0.w, r10, r1
    dp3_pp r1.x, r7, r1
    mad_pp oC2.xyz, r7, c13.z, c13.z
    max_pp r2.x, r1.x, c14.z
    pow_pp r1.x, r2.x, r3.x
    mul_pp r1.x, r1.x, r3.y
    max_pp r1.y, r0.w, c14.z
    mul_pp r0.w, r1.y, r1.y
    mad_pp r0.w, r0.w, r5.w, r2.y
    mov_pp oC1, r5
    mul_pp r0.w, r0.w, c3.z
    mad_pp r0.w, r0.w, r1.y, c15.y
    rcp r0.w, r0.w
    mul_pp r0.w, r0.w, r1.x
    mad_pp r1.xyz, r0.w, r5, r4
    mov_pp oC0.xyz, r4
    mul_pp r1.xyz, r9, r1
    mad_pp oC3.xyz, r1, r3.w, r0
    mov_pp oC0.w, c14.w
    mov_pp oC2.w, c14.w
    mov_pp oC3.w, c14.w

// approximately 176 instruction slots used (9 texture, 167 arithmetic)
