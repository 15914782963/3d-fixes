// Door to Dr Roman's Office

// CRC32: C347E40F | Unity headers extracted from Standard_BumpedDetail.shader
// Shader "Dreamfall/Unity5/Standard_BumpedDetail" {
//   Properties {
//    _Color ("Main Color", Color) = (1,1,1,1)
//    _MainTex ("Base (RGB) Gloss (A)", 2D) = "white" { }
//    _BumpMap ("Normalmap", 2D) = "bump" { }
//    _Detail ("Detail Base (RGB) Gloss (A)", 2D) = "white" { }
//    _DetailBump ("Detail Normalmap", 2D) = "bump" { }
//    _NormalMul ("Normal Multiplier", Float) = 1
//    _DetailBumpFactor ("Detail Bump Ammount", Range(0,1)) = 1
//    _AlphaFactor ("Alpha Factor", Range(0,1)) = 1
//    _GlossHigh ("Glossy High", Range(0,1)) = 0.8
//    _GlossLow ("Glossy Low", Range(0,1)) = 0.2
//    _Metallness ("Metallness", Range(0,1)) = 0
//    _MetalNesAlphaFactor ("Metalness Alpha Factor", Range(0,1)) = 1
//    _VColorMult ("Vertex Color Strength", Range(0,1)) = 0
//   }
//   Fallback "Legacy Shaders/Diffuse"
//   SubShader 1/1 {
//     LOD 400
//     Tags { "RenderType"="Opaque" }
//     Pass 3/4 {
//       Name "DEFERRED"
//       Tags { "LIGHTMODE"="Deferred" "RenderType"="Opaque" }
//       GpuProgramID 191766
//       Program "fp" {
//         SubProgram "d3d9 " {
//           Keywords { "DIRLIGHTMAP_SEPARATE" "DYNAMICLIGHTMAP_OFF" "LIGHTMAP_ON" "UNITY_HDR_ON" }
//           Float 7 [_AlphaFactor]
//           Vector 5 [_Color]
//           Float 6 [_DetailBumpFactor]
//           Float 8 [_GlossHigh]
//           Float 9 [_GlossLow]
//           Float 10 [_MetalNesAlphaFactor]
//           Float 11 [_Metallness]
//           Float 4 [_NormalMul]
//           Float 12 [_VColorMult]
//           Vector 0 [_WorldSpaceCameraPos]
//           Vector 1 [unity_ColorSpaceDielectricSpec]
//           Vector 3 [unity_LightGammaCorrectionConsts]
//           Vector 2 [unity_Lightmap_HDR]
//           SetTexture 0 [unity_Lightmap] 2D 0
//           SetTexture 1 [unity_LightmapInd] 2D 1
//           SetTexture 2 [_MainTex] 2D 2
//           SetTexture 3 [_BumpMap] 2D 3
//           SetTexture 4 [_Detail] 2D 4
//           SetTexture 5 [_DetailBump] 2D 5
//         }
//       }
//     }
//   }
// }
// 
// Headers extracted with DarkStarSword's extract_unity_shaders.py
// https://raw.githubusercontent.com/DarkStarSword/3d-fixes/master/extract_unity_shaders.py

    ps_3_0
    def c13, 1, 1.79999995, 0.100000001, -2
    def c14, 0, 0.333333343, 0.00100000005, 0.5
    def c15, 31.622776, 9.99999975e-005, 0.967999995, 0.0299999993
    def c16, 10, 0, 0, 0
    dcl_texcoord v0
    dcl_texcoord1 v1.xy
    dcl_texcoord2 v2
    dcl_texcoord3 v3
    dcl_texcoord4 v4
    dcl_color v5.xyz
    dcl_texcoord6_pp v6.xy
    dcl_2d s0
    dcl_2d s1
    dcl_2d s2
    dcl_2d s3
    dcl_2d s4
    dcl_2d s5

// Extra input from the vertex shader with the adjusted camera world position:
dcl_texcoord8 v8

    mov r0.x, v2.w
    mov r0.y, v3.w
    mov r0.z, v4.w
    add r0.xyz, -r0, v8
    nrm_pp r1.xyz, r0
    texld_pp r0, v6, s1
    mad_pp r0.xyz, r0, -c13.w, -c13.x
    dp3_pp r0.w, r0, r0
    rsq_pp r0.w, r0.w
    rcp_pp r0.w, r0.w
    max_pp r1.w, c14.z, r0.w
    rcp r0.w, r1.w
    mad_pp r2.xyz, r0, r0.w, r1
    mul_pp r0.xyz, r0.w, r0
    dp3_pp r0.w, r2, r2
    add r2.w, -r0.w, c14.z
    rsq_pp r0.w, r0.w
    cmp_pp r0.w, r2.w, c15.x, r0.w
    mul_pp r2.xyz, r0.w, r2
    dp3_pp r0.w, r0, r2
    max_pp r2.w, r0.w, c14.x
    mul_pp r0.w, r2.w, r2.w
    add_pp r2.w, -r2.w, c13.x
    texld_pp r3, v1, s4
    mad_pp r3, r3, c13.y, c13.z
    min_pp r4, c13.x, r3
    texld_pp r3, v0, s2
    mul_pp r3, r4, r3
    add_pp r4.xy, r3.ywzw, r3.xwzw
    mad_pp r4.x, r3.z, c14.y, r4.x
    max_pp r5.x, r4.y, c10.x
    min_pp r4.y, r5.x, c13.x
    mul_pp r4.y, r4.y, c11.x
    add_pp r4.z, -r4.x, c8.x
    mad_pp r4.x, c9.x, r4.z, r4.x
    max_pp r4.z, r3.w, c7.x
    mul_pp r3.xyz, r3, c5
    mul_pp r5.w, r4.z, r4.x
    mad_pp r3.w, r4.x, -r4.z, c13.x
    dp2add_pp r0.w, r0.w, r3.w, -c14.w
    texld_pp r6, v0.zwzw, s3
    mad_pp r4.xz, r6.wyyw, -c13.w, -c13.x
    mul_pp r6.xy, r4.xzzw, c4.x
    dp2add_sat_pp r4.x, r6, r6, c14.x
    add_pp r4.x, -r4.x, c13.x
    rsq_pp r4.x, r4.x
    rcp_pp r6.z, r4.x
    texld_pp r7, v1, s5
    mad_pp r4.xz, r7.wyyw, -c13.w, -c13.x
    mul_pp r7.xy, r4.xzzw, c4.x
    dp2add_sat_pp r4.x, r7, r7, c14.x
    add_pp r4.x, -r4.x, c13.x
    rsq_pp r4.x, r4.x
    rcp_pp r7.z, r4.x
    mad r4.xzw, r7.xyyz, c6.x, r6.xyyz
    nrm_pp r6.xyz, r4.xzww
    dp3_pp r7.x, v2, r6
    dp3_pp r7.y, v3, r6
    dp3_pp r7.z, v4, r6
    dp3_pp r4.x, r7, r1
    max_pp r6.x, r4.x, c14.x
    add_pp r4.x, -r6.x, c13.x
    mul_pp r4.z, r4.x, r4.x
    mul_pp r4.z, r4.z, r4.z
    mul_pp r4.x, r4.x, r4.z
    mad_pp r4.x, r0.w, r4.x, c13.x
    dp3_pp r0.x, r7, r0
    max_pp r4.z, r0.x, c14.x
    add_pp r0.x, -r4.z, c13.x
    mul_pp r0.y, r0.x, r0.x
    mul_pp r0.y, r0.y, r0.y
    mul_pp r0.x, r0.x, r0.y
    mad_pp r0.x, r0.w, r0.x, c13.x
    mul_pp r0.x, r4.x, r0.x
    mul_pp r0.x, r4.z, r0.x
    add_pp r0.y, -r1.w, c13.x
    texld_pp r8, v6, s0
    pow_pp r0.z, r8.w, c2.y
    mul_pp r0.z, r0.z, c2.x
    mul_pp r6.yzw, r8.xxyz, r0.z
    mul_pp r0.yzw, r0.y, r6
    mul_pp r6.yzw, r1.w, r6
    add_pp r4.xw, c14.wyzx, v6.xyzy
    texld_pp r8, r4.xwzw, s0
    texld_pp r9, r4.xwzw, s1
    mad_pp r9.xyz, r9, -c13.w, -c13.x
    pow_pp r1.w, r8.w, c2.y
    mul_pp r1.w, r1.w, c2.x
    mul_pp r8.xyz, r8, r1.w
    dp3_pp r1.w, r9, r9
    rsq_pp r1.w, r1.w
    rcp_pp r1.w, r1.w
    max_pp r4.x, c14.z, r1.w
    add_pp r1.w, -r4.x, c13.x
    mul_pp r10.xyz, r1.w, r8
    mul_pp r8.xyz, r4.x, r8
    rcp r1.w, r4.x
    mul_pp r11.xyz, r1.w, r9
    mad_pp r1.xyz, r9, r1.w, r1
    dp3_pp r1.w, r7, r11
    max_pp r4.x, r1.w, c14.x
    mul_pp r9.xyz, r4.x, r10
    mad_pp r0.yzw, r0, r4.z, r9.xxyz
    mad_pp r0.xyz, r6.yzww, r0.x, r0.yzww
    dp3_pp r0.w, r7, r2
    max_pp r1.w, r0.w, c14.x
    add_pp r0.w, -r3.w, c13.x
    mul_pp r2.x, r3.w, r3.w
    mad_pp r0.w, r0.w, c15.z, c15.w
    log_pp r0.w, r0.w
    rcp r0.w, r0.w
    mul_pp r0.w, r0.w, c16.x
    mul_pp r2.y, r0.w, r0.w
    mad_pp r0.w, r0.w, r0.w, c13.x
    pow_pp r3.w, r1.w, r2.y
    mul_pp r1.w, r0.w, c3.y
    mul_pp r1.w, r1.w, r3.w
    mul_pp r2.z, r2.x, c3.w
    mov r9.x, c13.x
    mad_pp r3.w, r2.x, -c3.w, r9.x
    mad_pp r4.w, r6.x, r3.w, r2.z
    mad_pp r2.z, r4.z, r3.w, r2.z
    mad r2.z, r2.z, r4.w, c15.y
    rcp_pp r2.z, r2.z
    mul_pp r1.w, r1.w, r2.z
    mul_pp r1.w, r4.z, r1.w
    mul_pp r1.w, r1.w, c3.x
    max_pp r2.z, r1.w, c14.x
    mul_pp r6.xyz, r6.yzww, r2.z
    mul_pp r1.w, r2.w, r2.w
    mul_pp r1.w, r1.w, r1.w
    mul_pp r1.w, r2.w, r1.w
    add r2.z, r9.x, -c12.x
    add r9.xyz, c13.x, -v5
    mad_pp r9.xyz, r2.z, r9, v5
    mad_pp r10.xyz, r3, r9, -c1
    mul_pp r3.xyz, r3, r9
    mad_pp r5.xyz, r4.y, r10, c1
    mad_pp r2.z, r4.y, -c1.w, c1.w
    mul_pp r3.xyz, r2.z, r3
    lrp_pp r4.yzw, r1.w, c13.x, r5.xxyz
    mul_pp r4.yzw, r4, r6.xxyz
    mad_pp r0.xyz, r3, r0, r4.yzww
    dp3_pp r1.w, r1, r1
    add r2.z, -r1.w, c14.z
    rsq_pp r1.w, r1.w
    cmp_pp r1.w, r2.z, c15.x, r1.w
    mul_pp r1.xyz, r1.w, r1
    dp3_pp r1.w, r11, r1
    dp3_pp r1.x, r7, r1
    mad_pp oC2.xyz, r7, c14.w, c14.w
    max_pp r2.z, r1.x, c14.x
    pow_pp r1.x, r2.z, r2.y
    mul_pp r0.w, r0.w, r1.x
    max_pp r2.y, r1.w, c14.x
    mul_pp r1.x, r2.y, r2.y
    mad_pp r1.x, r1.x, r5.w, r2.x
    mov_pp oC1, r5
    mul_pp r1.x, r1.x, c3.z
    mad_pp r1.x, r1.x, r2.y, c15.y
    rcp r1.x, r1.x
    mul_pp r0.w, r0.w, r1.x
    mad_pp r1.xyz, r0.w, r5, r3
    mov_pp oC0.xyz, r3
    mul_pp r1.xyz, r8, r1
    mad_pp oC3.xyz, r1, r4.x, r0
    mov_pp oC0.w, c13.x
    mov_pp oC2.w, c13.x
    mov_pp oC3.w, c13.x

// approximately 184 instruction slots used (8 texture, 176 arithmetic)
