//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
// Parameters:
//
//   bool gBlendUnDestOne;
//   float4 gEffectConstantColor;
//   float4 gEffectDistanceFade_VThickness;
//   float3 gEffectEyePosition;
//   row_major float4x4 gEffectShadingMatrix;
//   float4 gEffectUVOffset;
//   row_major float4x4 gEffectWorldViewProj;
//   bool gEnableLightScatter;
//   bool gEnableMultiUV;
//   bool gEnableVertexColor;
//   float3 gFogDensity;
//   float4 gFogDistance;
//   float4 gFogFarMiddle;
//   float4 gFogMiddle;
//   float4 gLScatterMieTmp;
//   float4 gLScatterOutTmp;
//   float4 gLScatterRayTmp;
//   float4 gLScatterSunColor;
//   float4 gLScatterSunDir;
//
//
// Registers:
//
//   Name                           Reg   Size
//   ------------------------------ ----- ----
//   gEnableMultiUV                 b0       1
//   gEnableVertexColor             b1       1
//   gEnableLightScatter            b8       1
//   gBlendUnDestOne                b9       1
//   gFogDensity                    c32      1
//   gLScatterSunColor              c102     1
//   gLScatterSunDir                c103     1
//   gLScatterOutTmp                c104     1
//   gLScatterRayTmp                c105     1
//   gLScatterMieTmp                c106     1
//   gFogMiddle                     c107     1
//   gFogFarMiddle                  c108     1
//   gFogDistance                   c109     1
//   gEffectWorldViewProj           c200     4
//   gEffectShadingMatrix           c204     3
//   gEffectEyePosition             c208     1
//   gEffectUVOffset                c209     1
//   gEffectConstantColor           c210     1
//   gEffectDistanceFade_VThickness c211     1
//

    vs_3_0
    def c0, 1, 0, 0.5, -0.5
    def c1, 0.00048828125, 0, 0, 0
    dcl_position v0
    dcl_color v1
    dcl_texcoord v2
    dcl_position o0
    dcl_texcoord o1
    dcl_texcoord1 o2
    dcl_texcoord2 o3
    dcl_texcoord3 o4
    dcl_texcoord4 o5

def c220, 0, 1, 0.0625, 0.5
dcl_2d s0

    mul r0, c201, v0.y
    mad r0, v0.x, c200, r0
    mad r0, v0.z, c202, r0
    add r0, r0, c203
    if b0
      add o2, c209, v2
    else
      add o2, c209.xyxy, v2.xyxy
    endif

mov o0, r0 // Relocated from line 137 with shadertool.py

// Automatic vertex shader halo fix inserted with DarkStarSword's shadertool.py:
// shadertool.py -i -f --only-autofixed --auto-fix-vertex-halo ABED32AF.txt
texldl r4, c220.z, s0
add r4.w, r0.w, -r4.y
mad r0.x, r4.w, r4.x, r0.x

    mad o3.w, c211.x, r0.w, c211.y
    if b8
      if b9
        add r1.xyz, -c208, v0
        dp3 r1.w, r1, r1
        rsq r1.w, r1.w
        rcp r2.x, r1.w
        mul r1.xyz, r1.w, r1
        mul r2.yzw, r1.y, c205.xxyz
        mad r1.xyw, r1.x, c204.xyzz, r2.yzzw
        mad r1.xyz, r1.z, c206, r1.xyww
        nrm r3.xyz, r1
        mul r1.xyz, r2.x, c104
        exp r2.x, r1.x
        exp r2.y, r1.y
        exp r2.z, r1.z
        dp3 r1.x, c103, r3
        mad r1.y, r1.x, r1.x, c0.x
        mov r1.w, c106.w
        mad r1.x, r1.w, r1.x, c105.w
        mul r1.z, r1.x, r1.x
        mul r1.x, r1.x, r1.z
        rsq r1.x, r1.x
        mul r1.xzw, r1.x, c106.xyyz
        mad r1.xyz, c105, r1.y, r1.xzww
        add r2.xyz, -r2, c0.x
        mul r1.xyz, r1, r2
        mul r1.xyz, r1, c102
      else
        mov r1.xyz, c0.y
      endif
    else
      mov r1.xyz, c0.y
    endif
    if b9
      add r2.xy, r0.w, -c109
      mul_sat r2.xy, r2, c109.zwzw
      mov r2.z, c0.y
      dp3 r1.w, r2, c32
      mov r3.xyz, c108
      mad r2.xyz, r3, r2.y, c107
      add r2.w, -r1.w, c0.x
      mul r2.xyz, r1.w, r2
      mad o3.xyz, r1, r2.w, r2
    else
      mov o3.xyz, r1
    endif
    if b1
      mov r1.xy, c0
      mad r1, c210.xyzx, r1.xxxy, r1.yyyx
      mul r1, r1.wxyz, v1.wxyz
      mov o1.xyz, r1.yzww
    else
      mov o1.xyz, c210
      mov r1.x, c0.x
    endif
    mul o1.w, r1.x, c210.w
    mul r1.xy, r0, c0.zwzw
    rcp r1.z, r0.w
    mad r1.xy, r1, r1.z, c0.z
    mov r1.z, r0.w
    mul o4.xyz, r0.w, r1
    mad r1.x, v0.w, c211.z, c211.w
    max o5.w, r1.x, c1.x

//     mov o0, r0 // Relocated to line 73 with shadertool.py
    mov o4.w, r1.z
    mov o5.xyz, c0.y

// approximately 88 instruction slots used
