//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
// Parameters:
//
//   float fresnel_zero;
//   float3 light_dir;
//   float ripple_scale;
//   float water_density;
//
//
// Registers:
//
//   Name          Reg   Size
//   ------------- ----- ----
//   light_dir     c0       1
//   water_density c1       1
//   ripple_scale  c2       1
//   fresnel_zero  c3       1
//
//
// Default values:
//
//   light_dir
//     c0   = { 0, 0, 0, 0 };
//
//   water_density
//     c1   = { 0.9, 0, 0, 0 };
//
//   ripple_scale
//     c2   = { 0.03, 0, 0, 0 };
//
//   fresnel_zero
//     c3   = { 0, 0, 0, 0 };
//

//PRESHADER     preshader
//PRESHADER     rcp c15.x, c2.x
//PRESHADER     log r0.x, c1.x
//PRESHADER     mul c16.x, r0.x, (0.693147181)
//PRESHADER     rcp r0.x, c0.z
//PRESHADER     mul c26.xy, r0.x, c0.xy
//PRESHADER     mov c25.x, r0.x
//PRESHADER     neg r0.x, c3.x
//PRESHADER     add c27.x, r0.x, (1)

// approximately 8 instructions used
//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
// Parameters:
//
//   float4 cloud_map_blend;
//   sampler2D cloud_sampler;
//   float cloud_transparency;
//   float4 fog_color;
//   float3 fog_params;
//   float fresnel_zero;
//   float4 light_ambient;
//   float4 light_color;
//   float3 light_dir;
//   float4 lod_dir;
//   float4 lod_pos;
//   sampler2D noise_sampler;
//   float normal_z;
//   sampler2D refl_sampler;
//   sampler2D refr_sampler;
//   float refract_scale;
//   float3x3 refract_xform;
//   float refractive_index;
//   float ripple_height;
//   float ripple_scale;
//   float shadow_fades[2];
//   float3 shadow_hd_center;
//   float3 shadow_hd_xaxis;
//   float3 shadow_hd_yaxis;
//   float4x4 shadow_mats[4];
//   float4 shadow_res_invres;
//   sampler2D shadow_sampler;
//   float2 shadow_zbias;
//   sampler2D surface_sampler;
//   float4 water_color;
//   float water_density;
//   float4 water_filter;
//   sampler2D waves_sampler;
//
//
// Registers:
//
//   Name               Reg   Size
//   ------------------ ----- ----
//   shadow_mats        c0      15
//   refract_xform      c28      3
//   shadow_fades       c31      2
//   shadow_res_invres  c33      1
//   shadow_zbias       c34      1
//   shadow_hd_center   c35      1
//   shadow_hd_xaxis    c36      1
//   shadow_hd_yaxis    c37      1
//   lod_pos            c38      1
//   lod_dir            c39      1
//   light_ambient      c40      1
//   light_dir          c41      1
//   fog_color          c42      1
//   fog_params         c43      1
//   cloud_map_blend    c44      1
//   cloud_transparency c45      1
//   light_color        c46      1
//   water_color        c47      1
//   water_filter       c48      1
//   water_density      c49      1
//   ripple_scale       c50      1
//   ripple_height      c51      1
//   refractive_index   c52      1
//   refract_scale      c53      1
//   fresnel_zero       c54      1
//   normal_z           c55      1
//   refl_sampler       s0       1
//   waves_sampler      s1       1
//   surface_sampler    s2       1
//   refr_sampler       s3       1
//   shadow_sampler     s4       1
//   cloud_sampler      s5       1
//   noise_sampler      s6       1
//
//
// Default values:
//
//   shadow_mats
//     c0   = { 0, 0, 0, 0 };
//     c1   = { 0, 0, 0, 0 };
//     c2   = { 0, 0, 0, 0 };
//     c3   = { 0, 0, 0, 0 };
//     c4   = { 0, 0, 0, 0 };
//     c5   = { 0, 0, 0, 0 };
//     c6   = { 0, 0, 0, 0 };
//     c7   = { 0, 0, 0, 0 };
//     c8   = { 0, 0, 0, 0 };
//     c9   = { 0, 0, 0, 0 };
//     c10  = { 0, 0, 0, 0 };
//     c11  = { 0, 0, 0, 0 };
//     c12  = { 0, 0, 0, 0 };
//     c13  = { 0, 0, 0, 0 };
//     c14  = { 0, 0, 0, 0 };
//
//   refract_xform
//     c28  = { 0, 0, 0, 0 };
//     c29  = { 0, 0, 0, 0 };
//     c30  = { 0, 0, 0, 0 };
//
//   shadow_fades
//     c31  = { 0, 0, 0, 0 };
//     c32  = { 0, 0, 0, 0 };
//
//   shadow_res_invres
//     c33  = { 0, 0, 0, 0 };
//
//   shadow_zbias
//     c34  = { 0, 0, 0, 0 };
//
//   shadow_hd_center
//     c35  = { 0, 0, 0, 0 };
//
//   shadow_hd_xaxis
//     c36  = { 0, 0, 0, 0 };
//
//   shadow_hd_yaxis
//     c37  = { 0, 0, 0, 0 };
//
//   lod_pos
//     c38  = { 0, 0, 0, 0 };
//
//   lod_dir
//     c39  = { 0, 0, 0, 0 };
//
//   light_ambient
//     c40  = { 0, 0, 0, 0 };
//
//   light_dir
//     c41  = { 0, 0, 0, 0 };
//
//   fog_color
//     c42  = { 0, 0, 0, 0 };
//
//   fog_params
//     c43  = { 0, 0, 0, 0 };
//
//   cloud_map_blend
//     c44  = { 0, 0, 0, 0 };
//
//   cloud_transparency
//     c45  = { 0, 0, 0, 0 };
//
//   light_color
//     c46  = { 0, 0, 0, 0 };
//
//   water_color
//     c47  = { 0.015, 0.01, 0.005, 0 };
//
//   water_filter
//     c48  = { 0.05, 0.01, 0.002, 0 };
//
//   water_density
//     c49  = { 0.9, 0, 0, 0 };
//
//   ripple_scale
//     c50  = { 0.03, 0, 0, 0 };
//
//   ripple_height
//     c51  = { 0.5, 0, 0, 0 };
//
//   refractive_index
//     c52  = { 1, 0, 0, 0 };
//
//   refract_scale
//     c53  = { 0.05, 0, 0, 0 };
//
//   fresnel_zero
//     c54  = { 0, 0, 0, 0 };
//
//   normal_z
//     c55  = { 1, 0, 0, 0 };
//

    ps_3_0
    def c56, 0.00999999978, 1, 0.5, -2
    def c57, -1, 1, 0.015625, 64
    def c58, 256, 0, 0.25, 1.44269502
    def c59, 0.0199999996, 0, 1, 4
    def c60, -0, -1, -2, -0.5
    def c61, 0.111111112, 0.00048828125, 1, 0.180141002
    def c62, 0.0208350997, -0.0851330012, -0.330299497, 0.999866009
    def c63, -2, 1.57079637, 0.318309128, 0.5
    def c64, 8, 5, 0, 0
    def c65, 0, -1, -2, 1
    dcl_texcoord v0.xyz
    dcl_texcoord2 v1.xyw
    dcl_texcoord3 v2
    dcl_2d s0
    dcl_2d s1
    dcl_2d s2
    dcl_2d s3
    dcl_2d s4
    dcl_2d s5
    dcl_2d s6
    add r0.xyz, -c38, v0
    dp3 r0.w, r0, r0
    rsq r0.w, r0.w
    rcp r1.x, r0.w
    mul r1.yzw, r0.w, r0.xxyz
    texldp r2, v2, s6
    mul r2.xy, c50.x, v0
    mul r1.x, r1.x, c56.x
    max r2.z, c56.y, r1.x
    rcp r1.x, r2.z
    mul r1.x, r1.x, c51.x
    mul r3.xy, r1.x, r1.yzzw
    texld r4, r2, s1
    mad r3.zw, r4.y, r3.xyxy, r2.xyxy
    texld r5, r3.zwzw, s1
    add r1.x, r4.y, r5.y
    mul r1.x, r1.x, c56.z
    mad r2.xy, r1.x, r3, r2
    mul r3.xy, r2, c15.x
    mul r4.z, r2.z, c55.x
    texld r5, r2, s1
    mad r4.xy, r5.zwzw, -c56.w, -c56.y
    nrm r6.xyz, r4
    mul r4.xyz, r1.yzww, c57.xxyw
    dp3 r1.x, r4, r6
    add r1.x, r1.x, r1.x
    mad r4.xyz, r6, -r1.x, r4
    dp3 r1.x, r0, c39
    dp3 r1.y, r1.yzww, r6
    mul r5.yzw, r1.y, r6.xxyz
    mad r0.xyz, r0, r0.w, -r5.yzww
    rcp r0.w, v1.w
    mul r1.zw, r0.w, v1.xyxy
    texld r7, r1.zwzw, s3
    if_lt r7.w, c57.z
      add r0.w, r1.x, c58.x
    else
      mul r0.w, r7.w, c57.w
    endif
    add r0.w, -r1.x, r0.w
    max r2.z, r0.w, c58.y
    add r0.w, r5.x, -c56.y
    mad r8, r0.w, c58.z, r2.z
    texkill r8
    mad r0.xyz, r0, c52.x, r5.yzww
    mov_sat r0.w, r2.z
    mul r0.w, r0.w, c53.x
    mad r1.zw, r6.xyxy, r0.w, r1
    texld r5, r1.zwzw, s3
    mul r0.w, r5.w, c57.w
    if_lt r0.w, r1.x
      mov r5.xyz, r7
    endif
    mov r7.yz, c56
    mad_sat r7.xyw, r2.z, -c48.xyzz, r7.y
    mul r5.xyz, r5, r7.xyww
    mul r0.w, r2.z, c16.x
    mul r0.w, r0.w, c58.w
    exp r0.w, r0.w
    dp3 r0.x, r0, r6
    cmp r0.x, r0.x, c58.y, -r0.x
    dp3 r0.y, c41, r6
    max r1.z, r0.y, c58.y
    mul r0.y, r0.x, r2.z
    max r1.w, c59.x, r0.x
    add r0.x, r1.z, r1.w
    mul r0.x, r0.x, c16.x
    mul r0.z, r1.z, r1.w
    rcp r0.z, r0.z
    mul r0.x, r0.z, r0.x
    mul r0.y, r0.x, r0.y
    mul r0.y, r0.y, c58.w
    exp r0.y, r0.y
    add r0.y, r0.y, -c56.y
    mul r0.y, r0.y, c49.x
    mul r0.x, r0.x, r1.w
    rcp r0.x, r0.x
    mul r0.x, r0.x, r0.y
    mov r3.z, v0.z
    add r6.xyz, r3, -c35
    dp3 r0.y, r6, c36
    dp3 r0.z, r6, c37
    mad r1.z, r2.w, c34.y, c34.x
    add r0.yz, -r0_abs, c56.y
    cmp r0.yz, r0, c59.y, c59.z
    add r0.y, r0.z, r0.y
    if_lt -r0.y, c58.y
      mul r1.z, r1.z, c59.w
      mov r0.y, -c56.w
      mov r0.z, c32.x
    else
      mov r0.y, c58.y
      mov r0.z, c31.x
    endif
    add r6.xyz, r0.y, c60
    mov r7.y, c58.y
    cmp r9, -r6_abs.x, c0, r7.y
    cmp r10, -r6_abs.x, c1, r7.y
    cmp r11, -r6_abs.x, c2, r7.y
    cmp r9, -r6_abs.y, c4, r9
    cmp r10, -r6_abs.y, c5, r10
    cmp r11, -r6_abs.y, c6, r11
    cmp r9, -r6_abs.z, c8, r9
    cmp r10, -r6_abs.z, c9, r10
    cmp r11, -r6_abs.z, c10, r11
    mov r3.w, c56.y
    dp4_sat r8.x, r3, r9
    dp4_sat r8.y, r3, r10
    dp4 r1.w, r3, r11
    cmp r2.zw, -r6_abs.y, -c60.xyxw, -c60.x
    cmp r2.zw, -r6_abs.z, -c60.xywx, r2
    mad r2.zw, r8.xyxy, c56.z, r2
    add r6.z, r1.z, r1.w
    add r8.xyz, r0.y, c65
    cmp r9, -r8_abs.x, c4, r7.y
    cmp r10, -r8_abs.x, c5, r7.y
    cmp r11, -r8_abs.x, c6, r7.y
    cmp r9, -r8_abs.y, c8, r9
    cmp r10, -r8_abs.y, c9, r10
    cmp r11, -r8_abs.y, c10, r11
    cmp r9, -r8_abs.z, c12, r9
    cmp r10, -r8_abs.z, c13, r10
    cmp r11, -r8_abs.z, c14, r11
    dp4_sat r7.x, r3, r9
    dp4_sat r7.y, r3, r10
    dp4 r0.y, r3, r11
    cmp r9.xy, -r8_abs.x, -c60.xwzw, -c60.x
    cmp r8.xy, -r8_abs.y, -c60.wxzw, r9
    cmp r8.xy, -r8_abs.z, c56.z, r8
    mad r7.xy, r7, c56.z, r8
    add r8.z, r1.z, r0.y
    mad r9, r2.zzww, c33.xxyy, -r7.z
    frc r9, r9
    mad r6.xy, r9.ywzw, -c33.zwzw, r2.zwzw
    mad r9, r9, -c65.wywy, -c65.zyzy
    mul r10, r9.zzww, r9.xyyx
    rcp r11.x, r9.x
    rcp r11.z, r9.y
    rcp r11.y, r9.z
    rcp r11.w, r9.w
    mad r9.xyz, r11, -c65.yyww, -c65.wwzw
    mul r9.xyz, r9, c33.zwzw
    mad r11.xyz, r11.zwxw, -c65.wwyw, -c65.zzww
    mul r11.xyz, r11, c33.zwzw
    mov r9.w, c58.y
    add r12.xyz, r6, r9.xyww
    mov r12.w, c56.y
    texldp r12, r12, s4
    add r9.xyz, r6, r9.zyww
    mov r9.w, c56.y
    texldp r9, r9, s4
    mov r11.w, c58.y
    add r13.xyz, r6, r11.xyww
    mov r13.w, c56.y
    texldp r13, r13, s4
    add r6.xyz, r6, r11.zyww
    mov r6.w, c56.y
    texldp r6, r6, s4
    mov r12.y, r9.x
    mov r12.z, r13.x
    mov r12.w, r6.x
    dp4 r0.y, r10, r12
    mul r0.y, r0.y, c61.x
    mad r6, r7.xxyy, c33.xxyy, -r7.z
    frc r6, r6
    mad r8.xy, r6.ywzw, -c33.zwzw, r7
    mad r6, r6, -c65.wywy, -c65.zyzy
    mul r7, r6.zzww, r6.xyyx
    rcp r9.x, r6.x
    rcp r9.z, r6.y
    rcp r9.y, r6.z
    rcp r9.w, r6.w
    mad r6.xyz, r9, -c65.yyww, -c65.wwzw
    mul r6.xyz, r6, c33.zwzw
    mad r9.xyz, r9.zwxw, -c65.wwyw, -c65.zzww
    mul r9.xyz, r9, c33.zwzw
    mov r6.w, c58.y
    add r10.xyz, r6.xyww, r8
    mov r10.w, c56.y
    texldp r10, r10, s4
    add r6.xyz, r6.zyww, r8
    mov r6.w, c56.y
    texldp r6, r6, s4
    mov r9.w, c58.y
    add r11.xyz, r8, r9.xyww
    mov r11.w, c56.y
    texldp r11, r11, s4
    add r9.xyz, r8, r9.zyww
    mov r9.w, c56.y
    texldp r9, r9, s4
    mov r10.y, r6.x
    mov r10.z, r11.x
    mov r10.w, r9.x
    dp4 r1.z, r7, r10
    mad r1.z, r1.z, c61.x, -r0.y
    mad r0.y, r0.z, r1.z, r0.y
    add r3.xyz, r3, -c38
    mad r0.z, r3.z, -c61.y, c61.z
    mul r1.zw, r0.z, c41.xyxy
    mul r6.xy, r1.zwzw, c25.x
    mov r6.z, c56.y
    mad r6.xyz, r3, c61.y, -r6
    mad r1.zw, c26.xyxy, -r6.z, r6.xyxy
    dp2add r0.z, r1.zwzw, r1.zwzw, c58.y
    rsq r0.z, r0.z
    rcp r2.z, r0.z
    mov_sat r2.w, r2.z
    add r3.w, r2.z, -c56.y
    cmp r3.w, r3.w, r0.z, c56.y
    mul r2.w, r2.w, r3.w
    mul r3.w, r2.w, r2.w
    mad r4.w, r3.w, c62.x, c62.y
    mad r4.w, r3.w, r4.w, c61.w
    mad r4.w, r3.w, r4.w, c62.z
    mad r3.w, r3.w, r4.w, c62.w
    mul r2.w, r2.w, r3.w
    add r2.z, -r2.z, c56.y
    cmp r2.z, r2.z, c59.y, c59.z
    mad r3.w, r2.w, c63.x, c63.y
    mad r2.z, r3.w, r2.z, r2.w
    mul r1.zw, r0.z, r1
    mul r1.zw, r2.z, r1
    mad r1.zw, r1, c63.z, c63.w
    texld r6, r1.zwzw, s5
    dp4 r0.z, r6, c44
    add r1.z, -r0.z, c56.y
    mad r0.z, c45.x, r1.z, r0.z
    mad r0.y, r0.y, r0.z, c40.x
    add r0.z, r8.w, -c56.z
    add r0.z, -r0_abs.z, c56.z
    mul r1.zw, r2.xyxy, c64.x
    texld r2, r1.zwzw, s2
    mul r2.yzw, r2.xxyz, c58.z
    mul r6.xyz, r0.x, c47
    mul r6.xyz, r6, c46
    mad r5.xyz, r5, r0.w, r6
    add r0.x, r2.x, c56.w
    mul_sat r0.z, r0.z, c64.y
    mul r2.xyz, r0.z, r2.yzww
    cmp r0.xzw, r0.x, r2.xyyz, c58.y
    add r0.xzw, r0, r5.xyyz
    mul r2.xyz, r0.y, r0.xzww
    dp3 r5.x, r4, c28
    dp3 r5.y, r4, c29
    dp3 r1.z, r4, c30
    add r1.z, r1.z, r1.z
    rcp r1.z, r1.z
    mad r1.zw, r5.xyxy, r1.z, c56.z
    texld r4, r1.zwzw, s0
    add r1.y, r1.y, c56.y
    mul r1.z, r1.y, r1.y
    mul r1.z, r1.z, r1.z
    mul r1.y, r1.z, r1.y
    mov r5.x, c27.x
    mad r1.y, r5.x, r1.y, c54.x
    mad r0.xyz, r0.xzww, -r0.y, r4
    mad r0.xyz, r1.y, r0, r2
    dp3 r0.w, r3, r3
    rsq r0.w, r0.w
    rcp r0.w, r0.w
    mul r0.w, r0.w, c43.z
    if_lt c56.x, r3_abs.z
      mul r1.y, r3.z, c43.y
      mul r1.z, r1.y, -c58.w
      exp r1.z, r1.z
      add r1.z, -r1.z, c56.y
      rcp r1.y, r1.y
      mul r1.y, r1.y, r1.z
      mul r0.w, r0.w, r1.y
    endif
    mul r0.w, r0.w, -c43.x
    mul r0.w, r0.w, c58.w
    exp r0.w, r0.w
    add r0.xyz, r0, -c42
    mad oC0.xyz, r0.w, r0, c42
    mul oC0.w, r1.x, c57.z

// approximately 287 instruction slots used (17 texture, 270 arithmetic)
