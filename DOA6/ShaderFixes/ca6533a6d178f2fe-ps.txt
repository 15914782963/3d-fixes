//
// Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
//
//   using 3Dmigoto v1.3.15 on Mon Mar 11 09:54:20 2019
//
//
// Buffer Definitions:
//
// cbuffer $Globals
// {
//
//   float4 litDir[4];                  // Offset:    0 Size:    64
//   float4 litCol[4];                  // Offset:   64 Size:    64
//   float4 litOcc;                     // Offset:  128 Size:    16
//   float4 ambLit;                     // Offset:  144 Size:    16
//   int nDirLit;                       // Offset:  160 Size:     4
//   float4 vEye;                       // Offset:  176 Size:    16
//   float2 vOccRate;                   // Offset:  192 Size:     8
//      = 0x3f800000 0x3f800000
//   int4 nRimExt[64];                  // Offset:  208 Size:  1024
//   int3 vSplsNumSS;                   // Offset: 1232 Size:    12
//   float4 vSubCbW2S[512];             // Offset: 1248 Size:  8192
//   float fSplSize[256];               // Offset: 9440 Size:  4084
//   float4 vSubCubSz;                  // Offset: 13536 Size:    16
//   int3 vSslsNumSS;                   // Offset: 13552 Size:    12
//   row_major float4x4 mSubSptW2S[256];// Offset: 13568 Size: 16384
//   float4 vSslSize[256];              // Offset: 29952 Size:  4096
//   float4 vSubSMSz;                   // Offset: 34048 Size:    16
//   row_major float4x4 mW2P;           // Offset: 34064 Size:    64
//   float4 vClstZPrm;                  // Offset: 34128 Size:    16
//   int nClstPtch[2];                  // Offset: 34144 Size:    20
//   float fClstScl;                    // Offset: 34164 Size:     4 [unused]
//   float2 vFadeDist;                  // Offset: 34168 Size:     8
//   float4 mWV[3];                     // Offset: 34176 Size:    48
//   float4 cRimTbl[64];                // Offset: 34224 Size:  1024
//   row_major float4x4 mV2W;           // Offset: 35248 Size:    64
//   row_major float4x4 mP2W;           // Offset: 35312 Size:    64
//   float fAmbMapsDORate;              // Offset: 35376 Size:     4
//      = 0x00000000
//   float4 vAmbDifScl;                 // Offset: 35392 Size:    16
//      = 0x3f800000 0x3f800000 0x3f800000 0x3f800000
//   float4 vAmbSpcScl;                 // Offset: 35408 Size:    16
//      = 0x3f800000 0x3f800000 0x3f800000 0x3f800000
//   float2 vAmbSpcLclOcc;              // Offset: 35424 Size:     8
//   float fAmbSpcLclOccStp;            // Offset: 35432 Size:     4
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// __smpsIES                         sampler      NA          NA    0        1
// __smpsSplShadow                 sampler_c      NA          NA    1        1
// __smpsSslShadow                 sampler_c      NA          NA    2        1
// __smpsGxAmbLut                    sampler      NA          NA    3        1
// __smpsAmbSpc                      sampler      NA          NA    4        1
// __smpsDepth                       sampler      NA          NA    5        1
// __smpsShadowPointSampler          sampler      NA          NA   15        1
// sIES                              texture  float4     2darray    0        1
// sSplShadow                        texture  float4   cubearray    1        1
// sSslShadow                        texture  float4     2darray    2        1
// sGxAmbLut                         texture  float4          2d    3        1
// sAmbSpc                           texture  float4        cube    4        1
// sDepth                            texture  float4          2d    5        1
// sGBuf0                            texture  float4          2d    6        1
// sGBuf1                            texture  float4     2darray    7        1
// sGBuf2                            texture  float4          2d    8        1
// sGBuf3                            texture  float4     2darray    9        1
// tCllLightIndices                  texture    uint         buf   16        1
// tCllLightPositions                texture  float4         buf   17        1
// tCllLightAttributes               texture  float3         buf   18        1
// tCllLightExAttributes             texture    uint         buf   19        1
// tCllSptLightAttributes            texture  float3         buf   20        1
// tCllSptLightExAttributes          texture    uint         buf   21        1
// tMaterialTable                    texture    uint         buf   25        1
// $Globals                          cbuffer      NA          NA    0        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Position              0   xyzw        0      POS   float   xy
// TEXCOORD                 0   xyzw        1     NONE   float   xy
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Target                0   xyzw        0   TARGET   float   xyzw
//
ps_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb0[2215], dynamicIndexed
dcl_sampler s0, mode_default
dcl_sampler s1, mode_comparison
dcl_sampler s2, mode_comparison
dcl_sampler s3, mode_default
dcl_sampler s4, mode_default
dcl_sampler s5, mode_default
dcl_sampler s15, mode_default
dcl_resource_texture2darray (float,float,float,float) t0
dcl_resource_texturecubearray (float,float,float,float) t1
dcl_resource_texture2darray (float,float,float,float) t2
dcl_resource_texture2d (float,float,float,float) t3
dcl_resource_texturecube (float,float,float,float) t4
dcl_resource_texture2d (float,float,float,float) t5
dcl_resource_texture2d (float,float,float,float) t6
dcl_resource_texture2darray (float,float,float,float) t7
dcl_resource_texture2d (float,float,float,float) t8
dcl_resource_texture2darray (float,float,float,float) t9
dcl_resource_buffer (uint,uint,uint,uint) t16
dcl_resource_buffer (float,float,float,float) t17
dcl_resource_buffer (float,float,float,float) t18
dcl_resource_buffer (uint,uint,uint,uint) t19
dcl_resource_buffer (float,float,float,float) t20
dcl_resource_buffer (uint,uint,uint,uint) t21
dcl_resource_buffer (uint,uint,uint,uint) t25
dcl_input_ps_siv linear noperspective v0.xy, position
dcl_input_ps linear v1.xy
dcl_output o0.xyzw
dcl_temps 36
ftoi r0.xy, v0.xyxx
mov r0.zw, l(0,0,3,0)
ld_indexable(texture2darray)(float,float,float,float) r1.xyzw, r0.xyww, t7.xyzw
mad r1.w, r1.w, l(255.000000), l(0.500000)
ftoi r1.w, r1.w
ld_indexable(buffer)(uint,uint,uint,uint) r1.w, r1.wwww, t25.yzwx
ubfe r2.x, l(8), l(8), r1.w
ld_indexable(texture2d)(float,float,float,float) r3.xyzw, r0.xyww, t6.xyzw
ld_indexable(texture2d)(float,float,float,float) r2.yzw, r0.xyww, t8.zxyw
ld_indexable(texture2darray)(float,float,float,float) r4.xyz, r0.xyww, t9.xyzw
ld_indexable(texture2darray)(float,float,float,float) r5.xyz, r0.xyzw, t7.xywz
ld_indexable(texture2d)(float,float,float,float) r0.x, r0.xyww, t5.xyzw
mul r6.xyzw, v1.yyyy, cb0[2208].xyzw
mad r6.xyzw, v1.xxxx, cb0[2207].xyzw, r6.xyzw
mad r6.xyzw, r0.xxxx, cb0[2209].xyzw, r6.xyzw
add r6.xyzw, r6.xyzw, cb0[2210].xyzw
div r6.xyzw, r6.xyzw, r6.wwww
add r0.yzw, -r6.xxyz, cb0[11].xxyz
dp3 r4.w, r0.yzwy, r0.yzwy
rsq r4.w, r4.w
mul r7.xyz, r0.yzwy, r4.wwww
mad r2.yz, r2.yyzy, l(0.000000, 2.000000, 2.000000, 0.000000), l(0.000000, -1.000000, -1.000000, 0.000000)
add r8.xyz, -|r2.yzyy|, l(1.000000, 1.000000, 1.000000, 0.000000)
add r9.z, -|r2.z|, r8.x
ge r5.w, r9.z, l(0.000000)
ge r8.xw, r2.yyyz, l(0.000000, 0.000000, 0.000000, 0.000000)
movc r8.xw, r8.xxxw, l(1.000000,0,0,1.000000), l(-1.000000,0,0,-1.000000)
mul r8.xy, r8.xwxx, r8.yzyy
movc r9.xy, r5.wwww, r2.yzyy, r8.xyxx
dp3 r2.y, r9.xyzx, r9.xyzx
rsq r2.y, r2.y
mul r8.xyz, r2.yyyy, r9.xyzx
mul r9.xyz, r8.yyyy, cb0[2204].xyzx
mad r8.xyw, r8.xxxx, cb0[2203].xyxz, r9.xyxz
mad r8.xyz, r8.zzzz, cb0[2205].xyzx, r8.xywx
imin r2.x, r2.x, l(63)
ieq r2.y, l(2), cb0[r2.x + 13].x
if_nz r2.y
  dp3_sat r2.y, r8.xyzx, r7.xyzx
  add r2.y, -r2.y, l(1.000000)
  log r2.y, r2.y
  mul r2.y, r2.y, cb0[r2.x + 2139].w
  exp r2.y, r2.y
  mul r9.xyz, r2.yyyy, cb0[r2.x + 2139].xyzx
  swapc r9.xyz, r10.xyz, cb0[r2.x + 13].yyyy, l(0,0,0,0), r9.xyzx
  mov r2.y, l(0)
else
  dp3_sat r2.z, r8.xyzx, r7.xyzx
  add r2.z, -r2.z, l(1.000000)
  log r2.z, r2.z
  mul r2.z, r2.z, cb0[r2.x + 2139].w
  exp r2.z, r2.z
  mul r2.y, r2.z, cb0[r2.x + 2139].x
  mov r10.xyz, l(0,0,0,0)
  mov r9.xyz, l(0,0,0,0)
endif
ige r2.z, cb0[r2.x + 13].z, l(0)
if_nz r2.z
  mov r5.w, cb0[r2.x + 13].z
  ieq r7.w, l(2), cb0[r5.w + 13].x
  if_nz r7.w
    dp3_sat r7.w, r8.xyzx, r7.xyzx
    add r7.w, -r7.w, l(1.000000)
    log r7.w, r7.w
    mul r7.w, r7.w, cb0[r5.w + 2139].w
    exp r7.w, r7.w
    mad r11.xyz, cb0[r5.w + 2139].xyzx, r7.wwww, r9.xyzx
    mad r12.xyz, cb0[r5.w + 2139].xyzx, r7.wwww, r10.xyzx
    movc r10.xyz, cb0[r5.w + 13].yyyy, r10.xyzx, r12.xyzx
    movc r9.xyz, cb0[r5.w + 13].yyyy, r11.xyzx, r9.xyzx
    mov r7.w, l(0)
  else
    dp3_sat r8.w, r8.xyzx, r7.xyzx
    add r8.w, -r8.w, l(1.000000)
    log r8.w, r8.w
    mul r8.w, r8.w, cb0[r5.w + 2139].w
    exp r8.w, r8.w
    mul r7.w, r8.w, cb0[r5.w + 2139].x
  endif
else
  mov r7.w, l(0)
endif
mul r2.w, r2.w, l(65535.000000)
ftou r2.w, r2.w
ushr r2.w, r2.w, l(8)
utof r2.w, r2.w
mul r11.yz, r2.wwww, l(0.000000, 0.00784313772, 0.00392156886, 0.000000)
dp3 r11.x, r8.xyzx, r7.xyzx
mov_sat r2.w, r11.x
add r2.w, r3.w, r2.w
mad r2.w, r2.w, r2.w, l(-1.000000)
add_sat r2.w, r3.w, r2.w
and r1.w, r1.w, l(1)
if_z r1.w
  dp3 r1.w, -r7.xyzx, r8.xyzx
  add r1.w, r1.w, r1.w
  mad r12.xyz, r8.xyzx, -r1.wwww, -r7.xyzx
  dp3 r1.w, cb0[2138].xyzx, r12.xyzx
  lt r5.w, r1.w, l(-0.500000)
  if_nz r5.w
    add r1.w, -r1.w, l(-0.500000)
    add r1.w, r1.w, r1.w
    mul r13.xyzw, r6.yyyy, cb0[2130].xyzw
    mad r13.xyzw, r6.xxxx, cb0[2129].xyzw, r13.xyzw
    mad r13.xyzw, r6.zzzz, cb0[2131].xyzw, r13.xyzw
    add r13.xyzw, r13.xyzw, cb0[2132].xyzw
    div r13.xyz, r13.xyzx, r13.wwww
    add r12.xyz, r6.xyzx, r12.xyzx
    mul r14.xyzw, r12.yyyy, cb0[2130].xyzw
    mad r14.xyzw, r12.xxxx, cb0[2129].xyzw, r14.xyzw
    mad r12.xyzw, r12.zzzz, cb0[2131].xyzw, r14.xyzw
    add r12.xyzw, r12.xyzw, cb0[2132].xyzw
    div r12.xyz, r12.xyzx, r12.wwww
    add r12.xyz, -r13.xyzx, r12.xyzx
    mul r5.w, r12.x, cb0[2214].y
    max r5.w, |r12.y|, |r5.w|
    div r5.w, cb0[2214].x, r5.w
    mul r12.xyz, r5.wwww, r12.xyzx
    mul r14.xy, r12.xyxx, l(0.500000, -0.500000, 0.000000, 0.000000)
    mad r13.xy, r13.xyxx, l(0.500000, -0.500000, 0.000000, 0.000000), r14.xyxx
    mov r12.w, l(0.500000)
    add r13.xyz, r12.wwzw, r13.xyzx
    mov r5.w, l(1.000000)
    mov r14.xyz, r13.xyzx
    mov r8.w, l(0)
    loop
      ge r9.w, r8.w, cb0[2214].z
      breakc_nz r9.w
      sample_l_indexable(texture2d)(float,float,float,float) r9.w, r14.xyxx, t5.yzwx, s5, l(0.000000)
      ge r9.w, r9.w, r14.z
      if_nz r9.w
        add r9.w, -r8.w, cb0[2214].z
        div r9.w, r9.w, cb0[2214].z
        mad r9.w, -r1.w, r9.w, l(1.000000)
        max r5.w, r9.w, l(0.200000)
        break
      endif
      mad r14.xyz, r12.xyzx, l(0.500000, -0.500000, 1.000000, 0.000000), r14.xyzx
      add r8.w, r8.w, l(1.000000)
      mov r5.w, l(1.000000)
    endloop
  else
    mov r5.w, l(1.000000)
  endif
else
  mov r5.w, l(1.000000)
endif
dp3 r12.x, r8.xyzx, -cb0[0].xyzx
mad r13.xyz, r0.yzwy, r4.wwww, -cb0[0].xyzx
dp3 r1.w, r13.xyzx, r13.xyzx
rsq r1.w, r1.w
mul r13.xyz, r1.wwww, r13.xyzx
dp3 r1.w, r7.xyzx, r13.xyzx
add r14.xyz, -r1.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
mov_sat r8.w, r1.w
add r8.w, -r8.w, l(1.000000)
mul r9.w, r8.w, r8.w
mul r9.w, r9.w, r9.w
mul r8.w, r8.w, r9.w
mad r15.xyz, r14.xyzx, r8.wwww, r1.xyzx
mul r8.w, r11.y, r11.y
mul r9.w, r8.w, r8.w
dp3 r10.w, r8.xyzx, r13.xyzx
mul r11.y, r9.w, r9.w
mul r10.w, r10.w, r10.w
mad r11.w, r9.w, r9.w, l(-1.000000)
mad r10.w, r10.w, r11.w, l(1.000000)
max r10.w, r10.w, l(0.000100)
mul r10.w, r10.w, r10.w
mul r10.w, r10.w, l(4.000000)
div r10.w, r11.y, r10.w
mul r12.z, r9.w, l(0.500000)
mad r9.w, -r9.w, l(0.500000), l(1.000000)
mad r1.w, r1.w, r9.w, r12.z
mul r1.w, r1.w, r1.w
div r1.w, l(1.000000, 1.000000, 1.000000, 1.000000), r1.w
mul r1.w, r1.w, r10.w
mul r13.xyz, r1.wwww, r15.xyzx
mul r13.xyz, r13.xyzx, cb0[4].xyzx
mov_sat r1.w, r12.x
mul r15.xy, cb0[8].xxxx, cb0[12].yxyy
mad r15.zw, -cb0[12].yyyx, cb0[8].xxxx, l(0.000000, 0.000000, 1.000000, 1.000000)
mad r10.w, r2.w, r15.x, r15.z
mul r10.w, r1.w, r10.w
mul r13.xyz, r10.wwww, r13.xyzx
ine r10.w, l(2), cb0[r2.x + 13].x
and r12.w, r10.w, l(1)
if_nz r2.z
  mov r13.w, cb0[r2.x + 13].z
  ine r13.w, l(2), cb0[r13.w + 13].x
  or r13.w, r10.w, r13.w
  and r13.w, r13.w, l(1)
else
  mov r13.w, r12.w
endif
if_nz r13.w
  if_nz r10.w
    dp3_sat r13.w, cb0[0].xyzx, r7.xyzx
    mad_sat r13.w, r2.y, r13.w, r1.w
    add r13.w, -r1.w, r13.w
    max r13.w, r13.w, l(0.000000)
    mul r16.xyz, r13.wwww, cb0[4].xyzx
    movc r16.xyz, cb0[r2.x + 13].yyyy, l(0,0,0,0), r16.xyzx
  else
    mov r16.xyz, l(0,0,0,0)
  endif
  if_nz r2.z
    mov r13.w, cb0[r2.x + 13].z
    ine r14.w, l(2), cb0[r13.w + 13].x
    if_nz r14.w
      dp3_sat r14.w, cb0[0].xyzx, r7.xyzx
      mad_sat r14.w, r7.w, r14.w, r1.w
      add r14.w, -r1.w, r14.w
      max r14.w, r14.w, l(0.000000)
      mad r17.xyz, cb0[4].xyzx, r14.wwww, r16.xyzx
      movc r16.xyz, cb0[r13.w + 13].yyyy, r16.xyzx, r17.xyzx
    endif
  endif
else
  mov r16.xyz, l(0,0,0,0)
endif
mul r17.xyz, r1.wwww, cb0[4].xyzx
mad r13.w, r3.w, r15.y, r15.w
mul r15.xyz, r13.wwww, r17.xyzx
if_nz r2.z
  mov r13.w, cb0[r2.x + 13].z
  ine r13.w, l(2), cb0[r13.w + 13].x
  or r13.w, r10.w, r13.w
  and r12.w, r13.w, l(1)
endif
if_nz r12.w
  if_nz r10.w
    dp3_sat r10.w, cb0[0].xyzx, r7.xyzx
    mad_sat r10.w, r2.y, r10.w, r1.w
    add r10.w, -r1.w, r10.w
    max r10.w, r10.w, l(0.000000)
    mad r17.xyz, cb0[4].xyzx, r10.wwww, r9.xyzx
    movc r9.xyz, cb0[r2.x + 13].yyyy, r17.xyzx, r9.xyzx
  endif
  if_nz r2.z
    mov r10.w, cb0[r2.x + 13].z
    ine r12.w, l(2), cb0[r10.w + 13].x
    if_nz r12.w
      dp3_sat r12.w, cb0[0].xyzx, r7.xyzx
      mad_sat r12.w, r7.w, r12.w, r1.w
      add r1.w, -r1.w, r12.w
      max r1.w, r1.w, l(0.000000)
      mad r17.xyz, cb0[4].xyzx, r1.wwww, r9.xyzx
      movc r9.xyz, cb0[r10.w + 13].yyyy, r17.xyzx, r9.xyzx
    endif
  endif
endif
mad r15.xyz, r15.xyzx, r5.zzzz, r16.xyzx
mul r13.xyz, r5.zzzz, r13.xyzx
ilt r1.w, l(0), cb0[10].x
if_nz r1.w
  dp3_sat r1.w, r8.xyzx, -cb0[1].xyzx
  mad r16.xyz, r0.yzwy, r4.wwww, -cb0[1].xyzx
  dp3 r10.w, r16.xyzx, r16.xyzx
  rsq r10.w, r10.w
  mul r16.xyz, r10.wwww, r16.xyzx
  dp3 r10.w, r7.xyzx, r16.xyzx
  mov_sat r12.w, r10.w
  add r12.w, -r12.w, l(1.000000)
  mul r13.w, r12.w, r12.w
  mul r13.w, r13.w, r13.w
  mul r12.w, r12.w, r13.w
  mad r17.xyz, r14.xyzx, r12.wwww, r1.xyzx
  dp3 r12.w, r8.xyzx, r16.xyzx
  mul r12.w, r12.w, r12.w
  mad r12.w, r12.w, r11.w, l(1.000000)
  max r12.w, r12.w, l(0.000100)
  mul r12.w, r12.w, r12.w
  mul r12.w, r12.w, l(4.000000)
  div r12.w, r11.y, r12.w
  mad r10.w, r10.w, r9.w, r12.z
  mul r10.w, r10.w, r10.w
  div r10.w, l(1.000000, 1.000000, 1.000000, 1.000000), r10.w
  mul r10.w, r10.w, r12.w
  mul r16.xyz, r10.wwww, r17.xyzx
  mul r16.xyz, r16.xyzx, cb0[5].xyzx
  mul r17.xy, cb0[8].yyyy, cb0[12].yxyy
  mad r17.zw, -cb0[12].yyyx, cb0[8].yyyy, l(0.000000, 0.000000, 1.000000, 1.000000)
  mad r10.w, r2.w, r17.x, r17.z
  mul r10.w, r1.w, r10.w
  mad r13.xyz, r16.xyzx, r10.wwww, r13.xyzx
  movc r10.w, cb0[r2.x + 13].x, l(0), l(1)
  if_nz r2.z
    mov r12.w, cb0[r2.x + 13].z
    movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
    or r12.w, r10.w, r12.w
  else
    mov r12.w, r10.w
  endif
  if_nz r12.w
    if_z cb0[r2.x + 13].x
      dp3_sat r12.w, cb0[1].xyzx, r7.xyzx
      mad_sat r12.w, r2.y, r12.w, r1.w
      movc r12.w, cb0[r2.x + 13].y, r1.w, r12.w
    else
      mov r12.w, r1.w
    endif
    if_nz r2.z
      mov r13.w, cb0[r2.x + 13].z
      if_z cb0[r13.w + 13].x
        dp3_sat r14.w, cb0[1].xyzx, r7.xyzx
        mad_sat r14.w, r7.w, r14.w, r12.w
        movc r12.w, cb0[r13.w + 13].y, r12.w, r14.w
      endif
    endif
  else
    mov r12.w, r1.w
  endif
  mul r16.xyz, r12.wwww, cb0[5].xyzx
  mad r12.w, r3.w, r17.y, r17.w
  mad r15.xyz, r16.xyzx, r12.wwww, r15.xyzx
  if_nz r2.z
    mov r12.w, cb0[r2.x + 13].z
    movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
    or r12.w, r10.w, r12.w
  else
    mov r12.w, r10.w
  endif
  if_nz r12.w
    if_z cb0[r2.x + 13].x
      dp3_sat r12.w, cb0[1].xyzx, r7.xyzx
      mad_sat r12.w, r2.y, r12.w, r1.w
      add r12.w, -r1.w, r12.w
      max r12.w, r12.w, l(0.000000)
      mad r16.xyz, cb0[5].xyzx, r12.wwww, r9.xyzx
      movc r9.xyz, cb0[r2.x + 13].yyyy, r16.xyzx, r9.xyzx
    endif
    if_nz r2.z
      mov r12.w, cb0[r2.x + 13].z
      if_z cb0[r12.w + 13].x
        dp3_sat r13.w, cb0[1].xyzx, r7.xyzx
        mad_sat r13.w, r7.w, r13.w, r1.w
        add r1.w, -r1.w, r13.w
        max r1.w, r1.w, l(0.000000)
        mad r16.xyz, cb0[5].xyzx, r1.wwww, r9.xyzx
        movc r9.xyz, cb0[r12.w + 13].yyyy, r16.xyzx, r9.xyzx
      endif
    endif
  endif
  ilt r1.w, l(1), cb0[10].x
  if_nz r1.w
    dp3_sat r1.w, r8.xyzx, -cb0[2].xyzx
    mad r16.xyz, r0.yzwy, r4.wwww, -cb0[2].xyzx
    dp3 r12.w, r16.xyzx, r16.xyzx
    rsq r12.w, r12.w
    mul r16.xyz, r12.wwww, r16.xyzx
    dp3 r12.w, r7.xyzx, r16.xyzx
    mov_sat r13.w, r12.w
    add r13.w, -r13.w, l(1.000000)
    mul r14.w, r13.w, r13.w
    mul r14.w, r14.w, r14.w
    mul r13.w, r13.w, r14.w
    mad r17.xyz, r14.xyzx, r13.wwww, r1.xyzx
    dp3 r13.w, r8.xyzx, r16.xyzx
    mul r13.w, r13.w, r13.w
    mad r13.w, r13.w, r11.w, l(1.000000)
    max r13.w, r13.w, l(0.000100)
    mul r13.w, r13.w, r13.w
    mul r13.w, r13.w, l(4.000000)
    div r13.w, r11.y, r13.w
    mad r12.w, r12.w, r9.w, r12.z
    mul r12.w, r12.w, r12.w
    div r12.w, l(1.000000, 1.000000, 1.000000, 1.000000), r12.w
    mul r12.w, r12.w, r13.w
    mul r16.xyz, r12.wwww, r17.xyzx
    mul r16.xyz, r16.xyzx, cb0[6].xyzx
    mul r17.xy, cb0[8].zzzz, cb0[12].yxyy
    mad r17.zw, -cb0[12].yyyx, cb0[8].zzzz, l(0.000000, 0.000000, 1.000000, 1.000000)
    mad r12.w, r2.w, r17.x, r17.z
    mul r12.w, r1.w, r12.w
    mad r13.xyz, r16.xyzx, r12.wwww, r13.xyzx
    if_nz r2.z
      mov r12.w, cb0[r2.x + 13].z
      movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
      or r12.w, r10.w, r12.w
    else
      mov r12.w, r10.w
    endif
    if_nz r12.w
      if_z cb0[r2.x + 13].x
        dp3_sat r12.w, cb0[2].xyzx, r7.xyzx
        mad_sat r12.w, r2.y, r12.w, r1.w
        movc r12.w, cb0[r2.x + 13].y, r1.w, r12.w
      else
        mov r12.w, r1.w
      endif
      if_nz r2.z
        mov r13.w, cb0[r2.x + 13].z
        if_z cb0[r13.w + 13].x
          dp3_sat r14.w, cb0[2].xyzx, r7.xyzx
          mad_sat r14.w, r7.w, r14.w, r12.w
          movc r12.w, cb0[r13.w + 13].y, r12.w, r14.w
        endif
      endif
    else
      mov r12.w, r1.w
    endif
    mul r16.xyz, r12.wwww, cb0[6].xyzx
    mad r12.w, r3.w, r17.y, r17.w
    mad r15.xyz, r16.xyzx, r12.wwww, r15.xyzx
    if_nz r2.z
      mov r12.w, cb0[r2.x + 13].z
      movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
      or r12.w, r10.w, r12.w
    else
      mov r12.w, r10.w
    endif
    if_nz r12.w
      if_z cb0[r2.x + 13].x
        dp3_sat r12.w, cb0[2].xyzx, r7.xyzx
        mad_sat r12.w, r2.y, r12.w, r1.w
        add r12.w, -r1.w, r12.w
        max r12.w, r12.w, l(0.000000)
        mad r16.xyz, cb0[6].xyzx, r12.wwww, r9.xyzx
        movc r9.xyz, cb0[r2.x + 13].yyyy, r16.xyzx, r9.xyzx
      endif
      if_nz r2.z
        mov r12.w, cb0[r2.x + 13].z
        if_z cb0[r12.w + 13].x
          dp3_sat r13.w, cb0[2].xyzx, r7.xyzx
          mad_sat r13.w, r7.w, r13.w, r1.w
          add r1.w, -r1.w, r13.w
          max r1.w, r1.w, l(0.000000)
          mad r16.xyz, cb0[6].xyzx, r1.wwww, r9.xyzx
          movc r9.xyz, cb0[r12.w + 13].yyyy, r16.xyzx, r9.xyzx
        endif
      endif
    endif
    ilt r1.w, l(2), cb0[10].x
    if_nz r1.w
      dp3_sat r1.w, r8.xyzx, -cb0[3].xyzx
      mad r16.xyz, r0.yzwy, r4.wwww, -cb0[3].xyzx
      dp3 r12.w, r16.xyzx, r16.xyzx
      rsq r12.w, r12.w
      mul r16.xyz, r12.wwww, r16.xyzx
      dp3 r12.w, r7.xyzx, r16.xyzx
      mov_sat r13.w, r12.w
      add r13.w, -r13.w, l(1.000000)
      mul r14.w, r13.w, r13.w
      mul r14.w, r14.w, r14.w
      mul r13.w, r13.w, r14.w
      mad r17.xyz, r14.xyzx, r13.wwww, r1.xyzx
      dp3 r13.w, r8.xyzx, r16.xyzx
      mul r13.w, r13.w, r13.w
      mad r13.w, r13.w, r11.w, l(1.000000)
      max r13.w, r13.w, l(0.000100)
      mul r13.w, r13.w, r13.w
      mul r13.w, r13.w, l(4.000000)
      div r13.w, r11.y, r13.w
      mad r12.w, r12.w, r9.w, r12.z
      mul r12.w, r12.w, r12.w
      div r12.w, l(1.000000, 1.000000, 1.000000, 1.000000), r12.w
      mul r12.w, r12.w, r13.w
      mul r16.xyz, r12.wwww, r17.xyzx
      mul r16.xyz, r16.xyzx, cb0[7].xyzx
      mul r17.xy, cb0[8].wwww, cb0[12].yxyy
      mad r17.zw, -cb0[12].yyyx, cb0[8].wwww, l(0.000000, 0.000000, 1.000000, 1.000000)
      mad r12.w, r2.w, r17.x, r17.z
      mul r12.w, r1.w, r12.w
      mad r13.xyz, r16.xyzx, r12.wwww, r13.xyzx
      if_nz r2.z
        mov r12.w, cb0[r2.x + 13].z
        movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
        or r12.w, r10.w, r12.w
      else
        mov r12.w, r10.w
      endif
      if_nz r12.w
        if_z cb0[r2.x + 13].x
          dp3_sat r12.w, cb0[3].xyzx, r7.xyzx
          mad_sat r12.w, r2.y, r12.w, r1.w
          movc r12.w, cb0[r2.x + 13].y, r1.w, r12.w
        else
          mov r12.w, r1.w
        endif
        if_nz r2.z
          mov r13.w, cb0[r2.x + 13].z
          if_z cb0[r13.w + 13].x
            dp3_sat r14.w, cb0[3].xyzx, r7.xyzx
            mad_sat r14.w, r7.w, r14.w, r12.w
            movc r12.w, cb0[r13.w + 13].y, r12.w, r14.w
          endif
        endif
      else
        mov r12.w, r1.w
      endif
      mul r16.xyz, r12.wwww, cb0[7].xyzx
      mad r12.w, r3.w, r17.y, r17.w
      mad r15.xyz, r16.xyzx, r12.wwww, r15.xyzx
      if_nz r2.z
        mov r12.w, cb0[r2.x + 13].z
        movc r12.w, cb0[r12.w + 13].x, l(0), l(1)
        or r10.w, r10.w, r12.w
      endif
      if_nz r10.w
        if_z cb0[r2.x + 13].x
          dp3_sat r10.w, cb0[3].xyzx, r7.xyzx
          mad_sat r10.w, r2.y, r10.w, r1.w
          add r10.w, -r1.w, r10.w
          max r10.w, r10.w, l(0.000000)
          mad r16.xyz, cb0[7].xyzx, r10.wwww, r9.xyzx
          movc r9.xyz, cb0[r2.x + 13].yyyy, r16.xyzx, r9.xyzx
        endif
        if_nz r2.z
          mov r10.w, cb0[r2.x + 13].z
          if_z cb0[r10.w + 13].x
            dp3_sat r12.w, cb0[3].xyzx, r7.xyzx
            mad_sat r12.w, r7.w, r12.w, r1.w
            add r1.w, -r1.w, r12.w
            max r1.w, r1.w, l(0.000000)
            mad r16.xyz, cb0[7].xyzx, r1.wwww, r9.xyzx
            movc r9.xyz, cb0[r10.w + 13].yyyy, r16.xyzx, r9.xyzx
          endif
        endif
      endif
    endif
  endif
endif
mad r0.x, r0.x, cb0[2133].x, cb0[2133].y
log r1.w, r0.x
mad r1.w, r1.w, cb0[2133].z, cb0[2133].w
max r1.w, r1.w, l(0.000000)
ftou r1.w, r1.w
ult r10.w, r1.w, l(16)
if_nz r10.w
  add r16.xy, v0.xyxx, l(-0.500000, -0.500000, 0.000000, 0.000000)
  mul r16.zw, v0.xxxy, l(0.000000, 0.000000, 0.015625, 0.015625)
  ftou r16.zw, r16.zzzw
  imul null, r10.w, r16.w, cb0[2134].x
  imad r1.w, cb0[2135].x, r1.w, r10.w
  iadd r1.w, r16.z, r1.w
  div r0.x, l(-1.000000), r0.x
  add r10.w, -cb0[2135].w, cb0[2135].z
  add r0.x, r0.x, -cb0[2135].w
  div r10.w, l(1.000000, 1.000000, 1.000000, 1.000000), r10.w
  mul_sat r0.x, r0.x, r10.w
  mad r10.w, r0.x, l(-2.000000), l(3.000000)
  mul r0.x, r0.x, r0.x
  mul r0.x, r0.x, r10.w
  ishl r10.w, r1.w, l(2)
  ld_indexable(buffer)(uint,uint,uint,uint) r10.w, r10.wwww, t16.yzwx
  bfi r17.xyz, l(30, 30, 30, 0), l(2, 2, 2, 0), r1.wwww, l(1, 2, 3, 0)
  ld_indexable(buffer)(uint,uint,uint,uint) r1.w, r17.xxxx, t16.yzwx
  ishl r1.w, r1.w, l(16)
  or r1.w, r1.w, r10.w
  ld_indexable(buffer)(uint,uint,uint,uint) r10.w, r17.yyyy, t16.yzwx
  ld_indexable(buffer)(uint,uint,uint,uint) r12.w, r17.zzzz, t16.yzwx
  mul r16.xy, r16.xyxx, l(0.500000, 0.500000, 0.000000, 0.000000)
  add r13.w, r16.x, r16.y
  frc r16.x, r16.x
  frc r16.y, r13.w
  movc r13.w, cb0[r2.x + 13].x, l(0), l(1)
  mov r14.w, cb0[r2.x + 13].z
  movc r14.w, cb0[r14.w + 13].x, l(0), l(1)
  or r14.w, r13.w, r14.w
  mov r17.xy, l(0,0,0,0)
  mov r18.y, l(-0.000000)
  mov r19.x, l(1.000000)
  mov r20.x, l(0)
  mov r20.z, cb0[846].w
  mov r21.x, l(0)
  mov r21.z, cb0[846].x
  mov r22.xyz, r15.xyzx
  mov r23.xyz, r9.xyzx
  mov r24.xyz, r13.xyzx
  mov r16.zw, cb0[77].xxxy
  mov r15.w, l(0)
  loop
    uge r17.w, r15.w, r10.w
    breakc_nz r17.w
    iadd r17.w, r1.w, r15.w
    ld_indexable(buffer)(uint,uint,uint,uint) r17.w, r17.wwww, t16.yzwx
    ld_indexable(buffer)(float,float,float,float) r25.xyzw, r17.wwww, t17.xyzw
    mul r18.w, r25.w, r25.w
    add r25.xyz, -r6.xyzx, r25.xyzx
    dp3 r19.z, r25.xyzx, r25.xyzx
    lt r19.w, r19.z, r18.w
    if_nz r19.w
      imul null, r19.w, r17.w, l(3)
      ld_indexable(buffer)(float,float,float,float) r26.xyz, r19.wwww, t18.xyzw
      mul r26.xyz, r0.xxxx, r26.xyzx
      ult r20.y, r17.w, r16.z
      if_nz r20.y
        ishl r20.y, r17.w, l(1)
        bfi r20.w, l(31), l(1), r17.w, l(1)
        add r27.xyz, r6.xyzx, cb0[r20.y + 78].xyzx
        mul r27.xyz, r27.xyzx, cb0[r20.y + 78].wwww
        ine r20.y, r16.w, l(1)
        and r21.yw, r16.xxxy, r20.yyyy
        ieq r20.y, r16.w, l(8)
        if_nz r20.y
          mov r27.w, -r27.z
          max r20.y, |r27.w|, |r27.y|
          max r17.z, r20.y, |r27.x|
          eq r28.xy, |r27.xyxx|, r17.zzzz
          movc r28.xzw, r28.xxxx, r17.yyyz, r17.zzyy
          movc r29.xyz, r28.yyyy, r17.xyzx, r17.xzyx
          dp3 r17.z, r27.xywx, r27.xywx
          sqrt r17.z, r17.z
          add r17.z, r17.z, cb0[r20.w + 78].x
          add r30.xy, r21.ywyy, l(-0.250000, -0.250000, 0.000000, 0.000000)
          mul r31.x, r17.z, cb0[r17.w + 590].x
          mul r20.y, r31.x, l(0.166666672)
          mul r32.xyz, r20.yyyy, r28.xzwx
          mul r31.yzw, r20.yyyy, r29.xxyz
          mad r33.xyz, r32.xyzx, r30.xxxx, r27.xywx
          mad r33.xyz, r31.yzwy, r30.yyyy, r33.xyzx
          mul r18.xz, r32.xxzx, l(-1.000000, 0.000000, -1.000000, 0.000000)
          add r32.xyz, r18.xyzx, r33.xyzx
          mad r34.xyz, r31.xzwx, l(-0.000000, -1.000000, -1.000000, 0.000000), r32.xyzx
          utof r34.w, r17.w
          sample_l_indexable(texturecubearray)(float,float,float,float) r18.x, r34.xyzw, t1.xyzw, s15, l(0.000000)
          mov_sat r18.z, r17.z
          lt r22.w, r18.x, r18.z
          and r23.w, r22.w, l(0x3f800000)
          mov r32.w, r34.w
          sample_l_indexable(texturecubearray)(float,float,float,float) r24.w, r32.xyzw, t1.yzwx, s15, l(0.000000)
          lt r25.w, r24.w, r18.z
          and r26.w, r25.w, l(0x3f800000)
          add r23.w, r23.w, r26.w
          mad r32.xyz, r29.xyzx, r20.yyyy, r32.xyzx
          sample_l_indexable(texturecubearray)(float,float,float,float) r26.w, r32.xyzw, t1.yzwx, s15, l(0.000000)
          lt r28.y, r26.w, r18.z
          and r29.w, r28.y, l(0x3f800000)
          add r23.w, r23.w, r29.w
          mad r32.xyz, r31.xzwx, l(-0.000000, -1.000000, -1.000000, 0.000000), r33.xyzx
          sample_l_indexable(texturecubearray)(float,float,float,float) r29.w, r32.xyzw, t1.yzwx, s15, l(0.000000)
          lt r30.z, r29.w, r18.z
          and r30.w, r30.z, l(0x3f800000)
          add r23.w, r23.w, r30.w
          mov r33.w, r32.w
          sample_l_indexable(texturecubearray)(float,float,float,float) r30.w, r33.xyzw, t1.yzwx, s15, l(0.000000)
          lt r31.y, r30.w, r18.z
          and r32.x, r31.y, l(0x3f800000)
          add r23.w, r23.w, r32.x
          mad r32.xyz, r29.xyzx, r20.yyyy, r33.xyzx
          mov r32.w, r33.w
          sample_l_indexable(texturecubearray)(float,float,float,float) r33.w, r32.xyzw, t1.yzwx, s15, l(0.000000)
          lt r34.x, r33.w, r18.z
          and r34.y, r34.x, l(0x3f800000)
          add r23.w, r23.w, r34.y
          mad r35.xyz, r28.xzwx, r20.yyyy, r33.xyzx
          mad r32.xyz, r31.xzwx, l(-0.000000, -1.000000, -1.000000, 0.000000), r35.xyzx
          sample_l_indexable(texturecubearray)(float,float,float,float) r31.x, r32.xyzw, t1.xyzw, s15, l(0.000000)
          lt r31.z, r31.x, r18.z
          and r31.w, r31.z, l(0x3f800000)
          add r23.w, r23.w, r31.w
          mov r35.w, r32.w
          sample_l_indexable(texturecubearray)(float,float,float,float) r31.w, r35.xyzw, t1.yzwx, s15, l(0.000000)
          lt r32.x, r31.w, r18.z
          and r32.y, r32.x, l(0x3f800000)
          add r23.w, r23.w, r32.y
          mad r35.xyz, r29.xyzx, r20.yyyy, r35.xyzx
          sample_l_indexable(texturecubearray)(float,float,float,float) r20.y, r35.xyzw, t1.yxzw, s15, l(0.000000)
          lt r32.y, r20.y, r18.z
          and r32.z, r32.y, l(0x3f800000)
          add r23.w, r23.w, r32.z
          mov r35.xyz, r27.xywx
          sample_l_indexable(texturecubearray)(float,float,float,float) r27.w, r35.xyzw, t1.yzwx, s15, l(0.000000)
          lt r18.z, r27.w, r18.z
          and r32.z, r18.z, l(0x3f800000)
          add r23.w, r23.w, r32.z
          lt r32.z, l(0.500000), r23.w
          if_nz r32.z
            and r18.x, r18.x, r22.w
            and r22.w, r24.w, r25.w
            add r18.x, r18.x, r22.w
            and r22.w, r26.w, r28.y
            add r18.x, r18.x, r22.w
            and r22.w, r29.w, r30.z
            add r18.x, r18.x, r22.w
            and r22.w, r30.w, r31.y
            add r18.x, r18.x, r22.w
            and r22.w, r33.w, r34.x
            add r18.x, r18.x, r22.w
            and r22.w, r31.x, r31.z
            add r18.x, r18.x, r22.w
            and r22.w, r31.w, r32.x
            add r18.x, r18.x, r22.w
            and r20.y, r20.y, r32.y
            add r18.x, r18.x, r20.y
            and r18.z, r27.w, r18.z
            add r18.x, r18.z, r18.x
            div r18.x, r18.x, r23.w
            add r18.x, r17.z, -r18.x
            mul r18.x, r18.x, cb0[r17.w + 590].x
            dp2 r18.z, r18.xxxx, cb0[846].yyyy
            ftoi r18.z, r18.z
            imax r18.z, r18.z, l(2)
            imin r18.z, r18.z, cb0[77].z
            itof r20.y, r18.z
            div r18.x, r18.x, r20.y
            mul r28.xyz, r18.xxxx, r28.xzwx
            mul r29.xyz, r18.xxxx, r29.xyzx
            mad r30.xzw, r28.xxyz, r30.xxxx, r35.xxyz
            mad r30.xyz, r29.xyzx, r30.yyyy, r30.xzwx
            iadd r18.x, r18.z, l(-1)
            itof r18.x, r18.x
            mov r20.y, l(0)
            mov r22.w, l(0)
            loop
              ige r23.w, r22.w, r18.z
              breakc_nz r23.w
              itof r23.w, r22.w
              mad r23.w, -r18.x, l(0.500000), r23.w
              mad r31.xyz, r28.xyzx, r23.wwww, r30.xyzx
              mov r23.w, r20.y
              mov r24.w, l(0)
              loop
                ige r25.w, r24.w, r18.z
                breakc_nz r25.w
                itof r25.w, r24.w
                mad r25.w, -r18.x, l(0.500000), r25.w
                mad r35.xyz, r29.xyzx, r25.wwww, r31.xyzx
                sample_c_lz_indexable(texturecubearray)(float,float,float,float) r25.w, r35.xyzw, t1.xxxx, s1, r17.z
                add r23.w, r23.w, r25.w
                iadd r24.w, r24.w, l(1)
              endloop
              mov r20.y, r23.w
              iadd r22.w, r22.w, l(1)
            endloop
            imul null, r17.z, r18.z, r18.z
            itof r17.z, r17.z
            div r17.z, r20.y, r17.z
          else
            mov r17.z, l(1.000000)
          endif
        else
          ieq r18.x, r16.w, l(3)
          if_nz r18.x
            mad r18.xz, r21.yywy, cb0[846].wwww, cb0[846].zzzz
            mul r28.xyzw, r27.zyxz, l(-1.000000, 1.000000, 1.000000, -1.000000)
            dp3 r21.y, r28.yzwy, r28.yzwy
            sqrt r21.y, r21.y
            add_sat r21.y, r21.y, cb0[r20.w + 78].x
            max r21.w, |r28.w|, |r28.y|
            max r21.w, r21.w, |r28.z|
            div r29.xyzw, r28.xyzw, r21.wwww
            eq r28.xy, |r28.zyzz|, r21.wwww
            add r30.xyzw, r18.xzxz, r29.zyxw
            add r31.xy, r18.xzxx, r29.zyzz
            mov r32.xz, r30.xxwx
            mov r32.y, r29.y
            mov r31.z, r29.w
            movc r29.xyw, r28.yyyy, r32.xyxz, r31.xyxz
            movc r28.yzw, r28.yyyy, r20.xxxz, r20.xxzx
            mov r30.x, r29.z
            movc r29.xyz, r28.xxxx, r30.xyzx, r29.xywx
            movc r28.yzw, r28.xxxx, r20.xxzx, r28.yyzw
            movc r30.xyz, r28.xxxx, r20.xxzx, r20.zxxz
            utof r29.w, r17.w
            sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.x, r29.xyzw, t1.xxxx, s1, r21.y
            add r31.xyz, r29.xyzx, r30.xyzx
            mov r31.w, r29.w
            sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.z, r31.xyzw, t1.xxxx, s1, r21.y
            add r18.x, r18.z, r18.x
            add r31.xyz, r28.yzwy, r29.xyzx
            sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.z, r31.xyzw, t1.xxxx, s1, r21.y
            add r18.x, r18.z, r18.x
            add r31.xyz, r30.xyzx, r31.xyzx
            sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.z, r31.xyzw, t1.xxxx, s1, r21.y
            add r18.x, r18.z, r18.x
            mul r17.z, r18.x, l(0.250000)
          else
            ieq r18.x, r16.w, l(2)
            if_nz r18.x
              mul r28.xyzw, r27.zyxz, l(-1.000000, 1.000000, 1.000000, -1.000000)
              dp3 r18.x, r28.yzwy, r28.yzwy
              sqrt r18.x, r18.x
              add_sat r18.x, r18.x, cb0[r20.w + 78].x
              max r18.z, |r28.w|, |r28.y|
              max r18.z, r18.z, |r28.z|
              div r29.xyzw, r28.xyzw, r18.zzzz
              eq r21.yw, |r28.zzzy|, r18.zzzz
              add r28.xyzw, r29.zyxw, cb0[846].zzzz
              add r30.xy, r29.zyzz, cb0[846].zzzz
              mov r31.xz, r28.xxwx
              mov r31.y, r29.y
              mov r30.z, r29.w
              movc r29.xyw, r21.wwww, r31.xyxz, r30.xyxz
              movc r30.xyz, r21.wwww, r21.xxzx, r21.xzxx
              mov r28.x, r29.z
              movc r28.xyz, r21.yyyy, r28.xyzx, r29.xywx
              movc r29.xyz, r21.yyyy, r21.xzxx, r30.xyzx
              movc r30.xyz, r21.yyyy, r21.xxzx, r21.zxxz
              utof r28.w, r17.w
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.z, r28.xyzw, t1.xxxx, s1, r18.x
              add r31.xyz, r28.xyzx, r30.xyzx
              mov r31.w, r28.w
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r28.xyzx, r29.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r28.xyz, r30.xyzx, r31.xyzx
              mov r28.w, r31.w
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r28.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r28.xyz, r30.xyzx, r28.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r28.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r28.xyz, r30.xyzx, r28.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r28.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r28.xyz, r29.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r28.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r28.xyzx
              mov r31.w, r28.w
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r29.xyzx, r28.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r21.y, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.z, r18.z, r21.y
              add r31.xyz, r30.xyzx, r31.xyzx
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r18.x, r31.xyzw, t1.xxxx, s1, r18.x
              add r18.x, r18.x, r18.z
              mul r17.z, r18.x, l(0.062500)
            else
              mul r27.xyz, r27.xyzx, l(1.000000, 1.000000, -1.000000, 0.000000)
              dp3 r18.x, r27.xyzx, r27.xyzx
              sqrt r18.x, r18.x
              add_sat r18.x, r18.x, cb0[r20.w + 78].x
              utof r27.w, r17.w
              sample_c_lz_indexable(texturecubearray)(float,float,float,float) r17.z, r27.xyzw, t1.xxxx, s1, r18.x
            endif
          endif
        endif
        ne r18.x, r17.z, l(0.000000)
        not r18.z, r18.x
        mul r27.xyz, r17.zzzz, r26.xyzx
        movc r26.xyz, r18.xxxx, r27.xyzx, r26.xyzx
      else
        mov r18.z, l(0)
      endif
      if_z r18.z
        imad r17.z, l(3), r17.w, l(1)
        ld_indexable(buffer)(float,float,float,float) r27.xyz, r17.zzzz, t18.xyzw
        ld_indexable(buffer)(uint,uint,uint,uint) r17.z, r17.zzzz, t19.yzxw
        utof r17.z, r17.z
        mul r17.z, r17.z, l(0.00392156886)
        ld_indexable(buffer)(uint,uint,uint,uint) r18.x, r19.wwww, t19.xyzw
        rsq r18.z, r19.z
        mul r28.xyz, r18.zzzz, -r25.xyzx
        ieq r19.w, r18.x, l(3)
        if_nz r19.w
          imad r17.w, l(3), r17.w, l(2)
          ld_indexable(buffer)(uint,uint,uint,uint) r19.w, r17.wwww, t19.yzwx
          ld_indexable(buffer)(float,float,float,float) r29.xyz, r17.wwww, t18.xyzw
          dp3 r17.w, -r25.xyzx, -r25.xyzx
          rsq r17.w, r17.w
          mul r25.xyz, r17.wwww, -r25.xyzx
          dp3 r17.w, r25.xyzx, r29.xyzx
          mad r30.x, r17.w, l(-0.500000), l(0.500000)
          dp3 r20.w, r25.xyzx, r27.xyzx
          mad r17.w, -r17.w, r17.w, l(1.000000)
          rsq r17.w, r17.w
          mul r17.w, r17.w, r20.w
          mul r31.xyz, r27.zxyz, r29.yzxy
          mad r29.xyz, r27.yzxy, r29.zxyz, -r31.xyzx
          dp3 r20.w, r29.xyzx, r25.xyzx
          ge r20.w, r20.w, l(0.000000)
          mad r21.yw, r17.wwww, l(0.000000, -0.250000, 0.000000, 0.250000), l(0.000000, 0.250000, 0.000000, 0.750000)
          movc r30.y, r20.w, r21.y, r21.w
          utof r30.z, r19.w
          sample_l_indexable(texture2darray)(float,float,float,float) r17.w, r30.xyzx, t0.yzwx, s0, l(0.000000)
          mul r17.w, r18.w, r17.w
          div r17.w, r17.w, r19.z
          div r18.w, r19.z, r18.w
          add r18.w, -r18.w, l(1.000000)
          max r18.w, r18.w, l(0.000000)
          mul r17.w, r17.w, r18.w
        else
          ieq r18.x, r18.x, l(2)
          mul r18.w, -r19.z, r27.x
          mul r18.w, r18.w, l(1.442695)
          exp r18.w, r18.w
          mul_sat r18.w, r18.w, r27.y
          mul r19.y, r18.z, r19.z
          dp3 r18.z, r27.xyzx, r19.xyzx
          div r18.z, l(1.000000, 1.000000, 1.000000, 1.000000), r18.z
          movc r17.w, r18.x, r18.w, r18.z
        endif
        mul r18.xzw, r26.xxyz, r17.wwww
        dp3_sat r17.w, r8.xyzx, -r28.xyzx
        mad r19.yzw, r0.yyzw, r4.wwww, -r28.xxyz
        dp3 r20.w, r19.yzwy, r19.yzwy
        rsq r20.w, r20.w
        mul r19.yzw, r19.yyzw, r20.wwww
        dp3 r20.w, r7.xyzx, r19.yzwy
        mov_sat r21.y, r20.w
        add r21.y, -r21.y, l(1.000000)
        mul r21.w, r21.y, r21.y
        mul r21.w, r21.w, r21.w
        mul r21.y, r21.w, r21.y
        mad r25.xyz, r14.xyzx, r21.yyyy, r1.xyzx
        dp3 r19.y, r8.xyzx, r19.yzwy
        mul r19.y, r19.y, r19.y
        mad r19.y, r19.y, r11.w, l(1.000000)
        max r19.y, r19.y, l(0.000100)
        mul r19.y, r19.y, r19.y
        mul r19.y, r19.y, l(4.000000)
        div r19.y, r11.y, r19.y
        mad r19.z, r20.w, r9.w, r12.z
        mul r19.z, r19.z, r19.z
        div r19.z, l(1.000000, 1.000000, 1.000000, 1.000000), r19.z
        mul r19.y, r19.z, r19.y
        mul r19.yzw, r19.yyyy, r25.xxyz
        mul r19.yzw, r18.xxzw, r19.yyzw
        mul r21.yw, r17.zzzz, cb0[12].yyyx
        mad r25.xy, -cb0[12].yxyy, r17.zzzz, l(1.000000, 1.000000, 0.000000, 0.000000)
        mad r17.z, r2.w, r21.y, r25.x
        mul r17.z, r17.z, r17.w
        mad r24.xyz, r19.yzwy, r17.zzzz, r24.xyzx
        if_nz r2.z
          mov r17.z, r14.w
        else
          mov r17.z, r13.w
        endif
        if_nz r17.z
          if_z cb0[r2.x + 13].x
            dp3_sat r17.z, r28.xyzx, r7.xyzx
            mad_sat r17.z, r2.y, r17.z, r17.w
            movc r17.z, cb0[r2.x + 13].y, r17.w, r17.z
          else
            mov r17.z, r17.w
          endif
          if_nz r2.z
            mov r19.y, cb0[r2.x + 13].z
            if_z cb0[r19.y + 13].x
              dp3_sat r19.z, r28.xyzx, r7.xyzx
              mad_sat r19.z, r7.w, r19.z, r17.z
              movc r17.z, cb0[r19.y + 13].y, r17.z, r19.z
            endif
          endif
        else
          mov r17.z, r17.w
        endif
        mul r19.yzw, r17.zzzz, r18.xxzw
        mad r17.z, r3.w, r21.w, r25.y
        mad r22.xyz, r19.yzwy, r17.zzzz, r22.xyzx
        if_nz r2.z
          mov r17.z, r14.w
        else
          mov r17.z, r13.w
        endif
        if_nz r17.z
          if_z cb0[r2.x + 13].x
            dp3_sat r17.z, r28.xyzx, r7.xyzx
            mad_sat r17.z, r2.y, r17.z, r17.w
            add r17.z, -r17.w, r17.z
            max r17.z, r17.z, l(0.000000)
            mad r19.yzw, r18.xxzw, r17.zzzz, r23.xxyz
            movc r23.xyz, cb0[r2.x + 13].yyyy, r19.yzwy, r23.xyzx
          endif
          if_nz r2.z
            mov r17.z, cb0[r2.x + 13].z
            if_z cb0[r17.z + 13].x
              dp3_sat r19.y, r28.xyzx, r7.xyzx
              mad_sat r19.y, r7.w, r19.y, r17.w
              add r17.w, -r17.w, r19.y
              max r17.w, r17.w, l(0.000000)
              mad r18.xzw, r18.xxzw, r17.wwww, r23.xxyz
              movc r23.xyz, cb0[r17.z + 13].yyyy, r18.xzwx, r23.xyzx
            endif
          endif
        endif
      endif
    endif
    iadd r15.w, r15.w, l(1)
  endloop
  iadd r1.w, r1.w, r10.w
  mov r17.z, l(0)
  mov r18.x, l(1.000000)
  mov r19.yw, l(0,0,0,0)
  mov r20.z, l(0)
  mov r15.xyz, r22.xyzx
  mov r9.xyz, r23.xyzx
  mov r13.xyz, r24.xyzx
  mov r16.zw, cb0[847].xxxy
  mov r10.w, l(0)
  loop
    uge r15.w, r10.w, r12.w
    breakc_nz r15.w
    iadd r15.w, r1.w, r10.w
    ld_indexable(buffer)(uint,uint,uint,uint) r15.w, r15.wwww, t16.yzwx
    imul null, r17.w, r15.w, l(5)
    ld_indexable(buffer)(float,float,float,float) r21.xyz, r17.wwww, t20.xyzw
    imad r17.w, l(5), r15.w, l(4)
    ld_indexable(buffer)(float,float,float,float) r25.xyz, r17.wwww, t20.xyzw
    add r21.xyz, -r6.xyzx, r21.xyzx
    dp3 r18.z, r21.xyzx, r21.xyzx
    lt r17.w, r18.z, r25.x
    if_nz r17.w
      imad r17.w, l(5), r15.w, l(1)
      ld_indexable(buffer)(float,float,float,float) r26.xyz, r17.wwww, t20.xyzw
      rsq r17.w, r18.z
      mul r27.xyz, r17.wwww, -r21.xyzx
      dp3 r18.w, -r27.xyzx, r26.xyzx
      mad_sat r18.w, r18.w, r25.z, r25.y
      lt r20.w, l(0.000000), r18.w
      if_nz r20.w
        imad r20.w, l(5), r15.w, l(2)
        ld_indexable(buffer)(float,float,float,float) r25.yzw, r20.wwww, t20.wxyz
        mul r25.yzw, r0.xxxx, r25.yyzw
        ult r20.w, r15.w, r16.z
        if_nz r20.w
          ishl r20.w, r15.w, l(2)
          mul r28.xyzw, r6.yyyy, cb0[r20.w + 849].xyzw
          mad r28.xyzw, r6.xxxx, cb0[r20.w + 848].xyzw, r28.xyzw
          mad r28.xyzw, r6.zzzz, cb0[r20.w + 850].xyzw, r28.xyzw
          mad r28.xyzw, r6.wwww, cb0[r20.w + 851].xyzw, r28.xyzw
          ine r20.w, r16.w, l(1)
          and r29.xy, r16.xyxx, r20.wwww
          ieq r20.w, r16.w, l(8)
          if_nz r20.w
            div r30.xyw, r28.zxzy, r28.wwww
            mov_sat r20.w, r30.x
            add r29.zw, r29.xxxy, l(0.000000, 0.000000, -0.250000, -0.250000)
            mul r21.w, r28.w, l(0.166666672)
            mul r17.xy, r21.wwww, cb0[r15.w + 1872].xyxx
            mul r19.x, r29.z, r17.x
            add r31.xy, r19.xyxx, r30.ywyy
            mad r31.xy, r17.zyzz, r29.wwww, r31.xyxx
            add r32.xy, -r17.xzxx, r31.xyxx
            add r33.xy, -r17.zyzz, r32.xyxx
            utof r33.z, r15.w
            sample_l_indexable(texture2darray)(float,float,float,float) r19.x, r33.xyzx, t2.xyzw, s15, l(0.000000)
            lt r21.w, r19.x, r20.w
            and r22.w, r21.w, l(0x3f800000)
            mov r32.z, r33.z
            sample_l_indexable(texture2darray)(float,float,float,float) r23.w, r32.xyzx, t2.yzwx, s15, l(0.000000)
            lt r24.w, r23.w, r20.w
            and r26.w, r24.w, l(0x3f800000)
            add r22.w, r22.w, r26.w
            add r32.xy, r17.zyzz, r32.xyxx
            sample_l_indexable(texture2darray)(float,float,float,float) r26.w, r32.xyzx, t2.yzwx, s15, l(0.000000)
            lt r27.w, r26.w, r20.w
            and r31.w, r27.w, l(0x3f800000)
            add r22.w, r22.w, r31.w
            add r32.xy, -r17.zyzz, r31.xyxx
            sample_l_indexable(texture2darray)(float,float,float,float) r31.w, r32.xyzx, t2.yzwx, s15, l(0.000000)
            lt r32.x, r31.w, r20.w
            and r32.y, r32.x, l(0x3f800000)
            add r22.w, r22.w, r32.y
            mov r31.z, r32.z
            sample_l_indexable(texture2darray)(float,float,float,float) r32.y, r31.xyzx, t2.yxzw, s15, l(0.000000)
            lt r32.z, r32.y, r20.w
            and r32.w, r32.z, l(0x3f800000)
            add r22.w, r22.w, r32.w
            add r33.xy, r17.zyzz, r31.xyxx
            mov r33.z, r31.z
            sample_l_indexable(texture2darray)(float,float,float,float) r31.z, r33.xyzx, t2.yzxw, s15, l(0.000000)
            lt r32.w, r31.z, r20.w
            and r33.w, r32.w, l(0x3f800000)
            add r22.w, r22.w, r33.w
            add r34.xy, r17.xzxx, r31.xyxx
            add r33.xy, -r17.zyzz, r34.xyxx
            sample_l_indexable(texture2darray)(float,float,float,float) r17.x, r33.xyzx, t2.xyzw, s15, l(0.000000)
            lt r31.x, r17.x, r20.w
            and r31.y, r31.x, l(0x3f800000)
            add r22.w, r22.w, r31.y
            mov r34.z, r33.z
            sample_l_indexable(texture2darray)(float,float,float,float) r31.y, r34.xyzx, t2.yxzw, s15, l(0.000000)
            lt r33.x, r31.y, r20.w
            and r33.y, r33.x, l(0x3f800000)
            add r22.w, r22.w, r33.y
            add r34.xy, r17.zyzz, r34.xyxx
            sample_l_indexable(texture2darray)(float,float,float,float) r17.y, r34.xyzx, t2.yxzw, s15, l(0.000000)
            lt r33.y, r17.y, r20.w
            and r33.z, r33.y, l(0x3f800000)
            add r22.w, r22.w, r33.z
            mov r30.z, r34.z
            sample_l_indexable(texture2darray)(float,float,float,float) r33.z, r30.ywzy, t2.yzxw, s15, l(0.000000)
            lt r33.w, r33.z, r20.w
            and r34.x, r33.w, l(0x3f800000)
            add r22.w, r22.w, r34.x
            lt r34.x, l(0.500000), r22.w
            if_nz r34.x
              and r19.x, r19.x, r21.w
              and r21.w, r23.w, r24.w
              add r19.x, r19.x, r21.w
              and r21.w, r26.w, r27.w
              add r19.x, r19.x, r21.w
              and r21.w, r31.w, r32.x
              add r19.x, r19.x, r21.w
              and r21.w, r32.y, r32.z
              add r19.x, r19.x, r21.w
              and r21.w, r31.z, r32.w
              add r19.x, r19.x, r21.w
              and r17.x, r17.x, r31.x
              add r17.x, r17.x, r19.x
              and r19.x, r31.y, r33.x
              add r17.x, r17.x, r19.x
              and r17.y, r17.y, r33.y
              add r17.x, r17.y, r17.x
              and r17.y, r33.z, r33.w
              add r17.x, r17.y, r17.x
              div r17.x, r17.x, r22.w
              mad r17.x, r17.x, cb0[r15.w + 1872].z, cb0[r15.w + 1872].w
              div r17.x, l(1.000000, 1.000000, 1.000000, 1.000000), r17.x
              add r17.x, -r17.x, r28.w
              dp2 r17.y, r17.xxxx, cb0[2128].yyyy
              ftoi r17.y, r17.y
              imax r17.y, r17.y, l(2)
              imin r17.y, r17.y, cb0[847].z
              itof r19.x, r17.y
              div r17.x, r17.x, r19.x
              mul r20.xy, r17.xxxx, cb0[r15.w + 1872].xyxx
              mul r19.z, r29.z, r20.x
              add r19.xz, r19.zzwz, r30.yywy
              mad r19.xz, r20.zzyz, r29.wwww, r19.xxzx
              iadd r17.x, r17.y, l(-1)
              itof r17.x, r17.x
              mov r21.w, l(0)
              mov r22.w, l(0)
              loop
                ige r23.w, r22.w, r17.y
                breakc_nz r23.w
                itof r23.w, r22.w
                mad r23.w, -r17.x, l(0.500000), r23.w
                mad r29.zw, r20.xxxz, r23.wwww, r19.xxxz
                mov r23.w, r21.w
                mov r24.w, l(0)
                loop
                  ige r26.w, r24.w, r17.y
                  breakc_nz r26.w
                  itof r26.w, r24.w
                  mad r26.w, -r17.x, l(0.500000), r26.w
                  mad r30.xy, r20.zyzz, r26.wwww, r29.zwzz
                  sample_c_lz_indexable(texture2darray)(float,float,float,float) r26.w, r30.xyzx, t2.xxxx, s2, r20.w
                  add r23.w, r23.w, r26.w
                  iadd r24.w, r24.w, l(1)
                endloop
                mov r21.w, r23.w
                iadd r22.w, r22.w, l(1)
              endloop
              imul null, r17.x, r17.y, r17.y
              itof r17.x, r17.x
              div r17.x, r21.w, r17.x
            else
              mov r17.x, l(1.000000)
            endif
          else
            ieq r17.y, r16.w, l(3)
            if_nz r17.y
              mad r19.xz, r29.xxyx, cb0[2128].wwww, cb0[2128].zzzz
              div r20.xyw, r28.xyxz, r28.wwww
              add r29.xy, r19.xzxx, r20.xyxx
              utof r29.z, r15.w
              sample_c_lz_indexable(texture2darray)(float,float,float,float) r17.y, r29.xyzx, t2.xxxx, s2, r20.w
              add r30.xy, r29.xyxx, cb0[2128].wwww
              mov r30.zw, r29.yyyz
              sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xzwx, t2.xxxx, s2, r20.w
              add r17.y, r17.y, r19.x
              mov r29.w, r30.y
              sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r29.xwzx, t2.xxxx, s2, r20.w
              add r17.y, r17.y, r19.x
              sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xywx, t2.xxxx, s2, r20.w
              add r17.y, r17.y, r19.x
              mul r17.x, r17.y, l(0.250000)
            else
              ieq r17.y, r16.w, l(2)
              if_nz r17.y
                div r20.xyw, r28.zxzy, r28.wwww
                mov_sat r20.x, r20.x
                add r29.xy, r20.ywyy, cb0[2128].zzzz
                utof r29.z, r15.w
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r17.y, r29.xyzx, t2.xxxx, s2, r20.x
                add r30.xy, r29.xyxx, cb0[2128].xxxx
                mov r30.zw, r29.zzzy
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                add r31.xy, r30.xyxx, cb0[2128].xxxx
                mov r31.zw, r30.wwwz
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r31.xzwx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                add r32.xy, r31.xyxx, cb0[2128].xxxx
                mov r32.zw, r31.zzzw
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r32.xzwx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r29.w, r30.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r29.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xyzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r33.xz, r31.xxwx
                mov r33.y, r29.w
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r33.xyzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r34.xz, r32.xxwx
                mov r34.y, r33.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r34.xyzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r29.y, r31.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r29.xyzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r30.y, r29.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xyzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r31.xywx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r34.w, r30.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r34.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r29.w, r32.y
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r29.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r30.w, r29.w
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r30.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mov r33.w, r30.w
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r33.xwzx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r19.x, r32.xywx, t2.xxxx, s2, r20.x
                add r17.y, r17.y, r19.x
                mul r17.x, r17.y, l(0.062500)
              else
                div r28.xyz, r28.xyzx, r28.wwww
                utof r28.w, r15.w
                sample_c_lz_indexable(texture2darray)(float,float,float,float) r17.x, r28.xywx, t2.xxxx, s2, r28.z
              endif
            endif
          endif
          ne r17.y, r17.x, l(0.000000)
          not r19.x, r17.y
          mul r20.xyw, r17.xxxx, r25.yzyw
          movc r25.yzw, r17.yyyy, r20.xxyw, r25.yyzw
        else
          mov r19.x, l(0)
        endif
        if_z r19.x
          imad r17.x, l(5), r15.w, l(3)
          ld_indexable(buffer)(float,float,float,float) r20.xyw, r17.xxxx, t20.xywz
          imul null, r17.x, r15.w, l(3)
          imad r17.y, l(3), r15.w, l(1)
          ld_indexable(buffer)(uint,uint,uint,uint) r17.y, r17.yyyy, t21.yxzw
          utof r17.y, r17.y
          mul r17.y, r17.y, l(0.00392156886)
          ld_indexable(buffer)(uint,uint,uint,uint) r17.x, r17.xxxx, t21.xyzw
          ieq r19.x, r17.x, l(3)
          if_nz r19.x
            imad r15.w, l(3), r15.w, l(2)
            ld_indexable(buffer)(uint,uint,uint,uint) r15.w, r15.wwww, t21.yzwx
            dp3 r19.x, -r21.xyzx, -r21.xyzx
            rsq r19.x, r19.x
            mul r21.xyz, r19.xxxx, -r21.xyzx
            dp3 r19.x, r21.xyzx, r26.xyzx
            mad r28.x, r19.x, l(-0.500000), l(0.500000)
            dp3 r19.z, r21.xyzx, r20.xywx
            mad r19.x, -r19.x, r19.x, l(1.000000)
            rsq r19.x, r19.x
            mul r19.x, r19.x, r19.z
            mul r29.xyz, r26.yzxy, r20.wxyw
            mad r26.xyz, r20.ywxy, r26.zxyz, -r29.xyzx
            dp3 r19.z, r26.xyzx, r21.xyzx
            ge r19.z, r19.z, l(0.000000)
            mad r21.xy, r19.xxxx, l(-0.250000, 0.250000, 0.000000, 0.000000), l(0.250000, 0.750000, 0.000000, 0.000000)
            movc r28.y, r19.z, r21.x, r21.y
            utof r28.z, r15.w
            sample_l_indexable(texture2darray)(float,float,float,float) r15.w, r28.xyzx, t0.yzwx, s0, l(0.000000)
            mul r15.w, r25.x, r15.w
            div r15.w, r15.w, r18.z
            div r19.x, r18.z, r25.x
            add_sat r19.x, -r19.x, l(1.000000)
            mul r15.w, r15.w, r19.x
            mul r15.w, r18.w, r15.w
          else
            ieq r17.x, r17.x, l(2)
            mul r19.x, -r18.z, r20.x
            mul r19.x, r19.x, l(1.442695)
            exp r19.x, r19.x
            mul_sat r19.x, r19.x, r20.y
            mul r19.x, r18.w, r19.x
            mul r18.y, r17.w, r18.z
            dp3 r17.w, r18.xyzx, r20.xywx
            div r17.w, r18.w, r17.w
            movc r15.w, r17.x, r19.x, r17.w
          endif
          mul r18.yzw, r25.yyzw, r15.wwww
          dp3_sat r15.w, r8.xyzx, -r27.xyzx
          mad r20.xyw, r0.yzyw, r4.wwww, -r27.xyxz
          dp3 r17.x, r20.xywx, r20.xywx
          rsq r17.x, r17.x
          mul r20.xyw, r17.xxxx, r20.xyxw
          dp3 r17.x, r7.xyzx, r20.xywx
          mov_sat r17.w, r17.x
          add r17.w, -r17.w, l(1.000000)
          mul r19.x, r17.w, r17.w
          mul r19.x, r19.x, r19.x
          mul r17.w, r17.w, r19.x
          mad r21.xyz, r14.xyzx, r17.wwww, r1.xyzx
          dp3 r17.w, r8.xyzx, r20.xywx
          mul r17.w, r17.w, r17.w
          mad r17.w, r17.w, r11.w, l(1.000000)
          max r17.w, r17.w, l(0.000100)
          mul r17.w, r17.w, r17.w
          mul r17.w, r17.w, l(4.000000)
          div r17.w, r11.y, r17.w
          mad r17.x, r17.x, r9.w, r12.z
          mul r17.x, r17.x, r17.x
          div r17.x, l(1.000000, 1.000000, 1.000000, 1.000000), r17.x
          mul r17.x, r17.x, r17.w
          mul r20.xyw, r17.xxxx, r21.xyxz
          mul r20.xyw, r18.yzyw, r20.xyxw
          mul r17.xw, r17.yyyy, cb0[12].yyyx
          mad r19.xz, -cb0[12].yyxy, r17.yyyy, l(1.000000, 0.000000, 1.000000, 0.000000)
          mad r17.x, r2.w, r17.x, r19.x
          mul r17.x, r15.w, r17.x
          mad r13.xyz, r20.xywx, r17.xxxx, r13.xyzx
          if_nz r2.z
            mov r17.x, r14.w
          else
            mov r17.x, r13.w
          endif
          if_nz r17.x
            if_z cb0[r2.x + 13].x
              dp3_sat r17.x, r27.xyzx, r7.xyzx
              mad_sat r17.x, r2.y, r17.x, r15.w
              movc r17.x, cb0[r2.x + 13].y, r15.w, r17.x
            else
              mov r17.x, r15.w
            endif
            if_nz r2.z
              mov r17.y, cb0[r2.x + 13].z
              if_z cb0[r17.y + 13].x
                dp3_sat r19.x, r27.xyzx, r7.xyzx
                mad_sat r19.x, r7.w, r19.x, r17.x
                movc r17.x, cb0[r17.y + 13].y, r17.x, r19.x
              endif
            endif
          else
            mov r17.x, r15.w
          endif
          mul r20.xyw, r17.xxxx, r18.yzyw
          mad r17.x, r3.w, r17.w, r19.z
          mad r15.xyz, r20.xywx, r17.xxxx, r15.xyzx
          if_nz r2.z
            mov r17.x, r14.w
          else
            mov r17.x, r13.w
          endif
          if_nz r17.x
            if_z cb0[r2.x + 13].x
              dp3_sat r17.x, r27.xyzx, r7.xyzx
              mad_sat r17.x, r2.y, r17.x, r15.w
              add r17.x, -r15.w, r17.x
              max r17.x, r17.x, l(0.000000)
              mad r17.xyw, r18.yzyw, r17.xxxx, r9.xyxz
              movc r9.xyz, cb0[r2.x + 13].yyyy, r17.xywx, r9.xyzx
            endif
            if_nz r2.z
              mov r17.x, cb0[r2.x + 13].z
              if_z cb0[r17.x + 13].x
                dp3_sat r17.y, r27.xyzx, r7.xyzx
                mad_sat r17.y, r7.w, r17.y, r15.w
                add r15.w, -r15.w, r17.y
                max r15.w, r15.w, l(0.000000)
                mad r18.yzw, r18.yyzw, r15.wwww, r9.xxyz
                movc r9.xyz, cb0[r17.x + 13].yyyy, r18.yzwy, r9.xyzx
              endif
            endif
          endif
        endif
      endif
    endif
    iadd r10.w, r10.w, l(1)
  endloop
endif
add r0.xyz, r10.xyzx, r15.xyzx
ne r0.w, cb0[2211].x, l(0.000000)
dp3 r1.w, -r7.xyzx, r8.xyzx
add r1.w, r1.w, r1.w
mad r2.xyz, r8.xyzx, -r1.wwww, -r7.xyzx
mov r6.x, -r8.y
mov r6.y, -r2.y
mov_sat r6.xy, r6.xyxx
dp3 r12.y, r2.xyzx, -cb0[0].xyzx
mov_sat r12.xy, r12.xyxx
add r6.xy, r6.xyxx, r12.xyxx
mul_sat r6.xy, r6.xyxx, cb0[2211].xxxx
add r1.w, r5.z, l(-1.000000)
mad r6.xy, r6.xyxx, r1.wwww, l(1.000000, 1.000000, 0.000000, 0.000000)
movc r6.xy, r0.wwww, r6.xyxx, l(1.000000,1.000000,0,0)
sample_l_indexable(texturecube)(float,float,float,float) r7.xyz, r8.xyzx, t4.xyzw, s4, l(6.000000)
mul r6.xzw, r6.xxxx, r7.xxyz
mad r6.xzw, r6.xxzw, cb0[2212].xxyz, cb0[9].xxyz
add r0.w, -cb0[2212].w, l(1.000000)
mad r0.w, r3.w, cb0[2212].w, r0.w
add r0.w, r0.w, l(-1.000000)
add r0.w, r0.w, l(1.000000)
add r5.xy, -r5.yxyy, l(1.000000, 1.000000, 0.000000, 0.000000)
mul r0.w, r0.w, r5.x
mad r0.xyz, r6.xzwx, r0.wwww, r0.xyzx
mul r0.w, r8.w, l(6.000000)
sample_l_indexable(texturecube)(float,float,float,float) r2.xyz, r2.xyzx, t4.xyzw, s4, r0.w
mul r2.xyz, r6.yyyy, r2.xyzx
mul r2.xyz, r2.xyzx, cb0[2213].xyzx
sample_indexable(texture2d)(float,float,float,float) r5.xz, r11.xzxx, t3.xzyw, s3
mad r1.xyz, r1.xyzx, r5.xxxx, r5.zzzz
mul r1.xyz, r1.xyzx, r2.xyzx
add r0.w, -cb0[2213].w, l(1.000000)
mad r0.w, r3.w, cb0[2213].w, r0.w
add r1.w, -r0.w, l(1.000000)
mad r1.w, r2.w, r1.w, r0.w
mul r0.w, r0.w, r1.w
mad r0.w, r0.w, r5.w, l(-1.000000)
add r0.w, r0.w, l(1.000000)
mul r0.w, r5.y, r0.w
mad r1.xyz, r1.xyzx, r0.wwww, r13.xyzx
mul r2.xyz, r3.xyzx, r14.xyzx
mad r0.xyz, r0.xyzx, r2.xyzx, r4.xyzx
add r0.xyz, r9.xyzx, r0.xyzx
add o0.xyz, r1.xyzx, r0.xyzx
mov o0.w, l(1.000000)
ret
// Approximately 1439 instruction slots used
